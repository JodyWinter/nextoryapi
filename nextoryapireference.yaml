openapi: 3.0.2
servers:
  - description: Prod
    url: 'https://www.nextory.se/api/app/<module_name>/<API_version>'
  - description: Dev
    url: 'http://apptest.nextory.se:82/api/app/<module_name>/<API_version>'
info:
  description: |-
    The Nextory API is the only means of communication between the Nextory app and the backend that supports it.
    It is an internal API that is used by Nextory's app teams. This document defines all of the functionality of the Nextory API.
  version: '7.1'
  title: Nextory API
  contact:
    name: Redacted
    email: redacted@nextory.com
    url: www.nextory.se
  license:
    name: Licensed to Nextory
    url: 'https://www.nextory.se'
  termsOfService: www.nextory.se
security:
  - app_id: []
paths:















  /directbookdeletion:
    post:
      summary: Direct book deletion
      operationId: NX-038
      description: |-
        **Description:** Deletes a book from both ongoing list and the wishlist.

        **Parameters:** Mandatory header parameters plus one query parameter.

        **Example Request URL:** [https://www.nextory.se/api/app/library/7.1/directbookdeletion](https://www.nextory.se/api/app/library/7.1/directbookdeletion)

        **Example Error Response:**
        ```
        {
        "error": {
        "code": 7003
        "msg": "Direct deletion is failed",
        }
        }
      tags:
        - Books and bookgroups
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: '31312312'
          in: query
          name: bookid
          description: The book ID associated to the library which has to be deleted.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      status:
                        type: string
                    required:
                      - status
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      status: SUCCESS
  /download-library-log:
    get:
      summary: Download library log
      operationId: NX-010
      description: |-
        **Description:** Notifies the backend about the download process (which happens on the app side). The app notifies when the download starts and finishes, as well as the download progress.

        **Parameters:** Mandatory header parameters plus some query parameters.

        **Example Request URL:** [https://www.nextory.se/api/4.1.1/library-download-log?appId=201&version=1.1&model=Simulator64&token=e35669e6-ac8f-474a-83c4-fe48f5b9ea1f&status=started&libid=94213](https://www.nextory.se/api/4.1.1/library-download-log?appId=201&version=1.1&model=Simulator64&token=e35669e6-ac8f-474a-83c4-fe48f5b9ea1f&status=started&libid=94213)
      tags:
        - Books and bookgroups
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: '94213'
          in: query
          name: libid
          description: 'The book identifier in the account holder’s library. Used in the activation process. Different from “id” and specific to each profile. When the book is not in my list or active, then we assume that “libid” is zero.'
          required: true
        - schema:
            type: string
            example: STARTED
            enum:
              - COMPLETED
              - FAILED
              - STARTED
          in: query
          name: status
          description: 'The status of the download process. Values are "STARTED", "FAILED" and "COMPLETED". All API versions.'
          required: true
        - schema:
            type: string
            example: Some arbitrary string...
          in: query
          name: error
          description: Sends an error message to the backend in case the app experiences issues while downloading a book. The error is an arbitrary string from whatever system encountered the error and is stored in the backend as a log. All API versions.
          required: false
        - schema:
            type: number
            example: 55.5
          in: query
          name: percentage
          description: The download progress as a percentage. Required only if “status” = “FAILED”. All API versions.
          required: true
        - schema:
            type: string
            example: '127764'
          in: query
          name: logid
          description: Identifier for a download process instance. If “status” = "STARTED" then "logid" is returned in response. Required only if “status” = "COMPLETED" or "FAILED". All API versions.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - logid
                    properties:
                      logid:
                        type: string
                        example: '187795'
                        description: Identifier for a download process instance. If "status" = "STARTED" then "logid" is returned in response.
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      logid: '187795'
  /editRatings:
    post:
      summary: Edit book ratings and reviews
      operationId: NX-34
      description: |-
        **Description:** Changes the ratings given to a book.

        **Parameters:** Mandatory header parameters plus some query parameters.

        **Example Request URL:** [https://apptest.nextory.se:92//api/app/product/{api_version}/editRatings?](https://apptest.nextory.se:92//api/app/product/{api_version}/editRatings?)

        **Example Error Response:**
        ```
        {
        "error": {
        "code"" 1000
        "msg": "Fel har uppstått kontakta kundtjänst",
        }
        }
      tags:
        - Books and bookgroups
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: 5e85d4cf7ab320606eb0d216
          in: query
          name: commentid
          description: The ID of the comment that the account holder is interacting with. All API versions.
          required: true
        - schema:
            type: string
            example: '1023456'
          in: query
          name: id
          description: The ID of the book whose comments or review the account holder wants to edit. All API versions.
          required: true
        - schema:
            type: string
            example: '3'
          in: query
          name: rating
          description: The book rating given by the account holder. Can be any value between 1 and 5. Required only if a rating has been given to a book. All API versions.
          required: false
        - schema:
            type: string
            example: Great read!
          in: query
          name: reviews
          description: The review given to the book by the account holder. Any random string data. Required only if a review has been given to a book. All API versions.
          required: false
        - schema:
            type: string
            example: PUBLIC
          in: query
          name: access
          description: The value "PUBLIC" must be passed in all scenarios. All API versions.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - status
                    properties:
                      status:
                        type: string
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      status: SUCCESS
  /facets:
    get:
      summary: Search facets
      operationId: NX-0141
      description: |-
        **Description:** Gets facets for a list of books that the account holder can use to narrow down the list.

        **Parameters:** Mandatory header parameters plus some query parameters.

        **Example Request URL (for Search Facets):** [http://104.155.208.232:82/api/app/catalogue/6.4/facets?appId=201&version=3.3.2&model=Simulator&osinfo=11.4&deviceid=1869C1C1-77D5-4AEA-B5F1-E1CE8045768B&locale=sv_SE&token=f77e8f50-73c2-436f-b9e9-e491953a0561&query=stieg&pagenumber=0&pagesize=12&sort=default&type=0&includenotallowedbooks=0](http://104.155.208.232:82/api/app/catalogue/6.4/facets?appId=201&version=3.3.2&model=Simulator&osinfo=11.4&deviceid=1869C1C1-77D5-4AEA-B5F1-E1CE8045768B&locale=sv_SE&token=f77e8f50-73c2-436f-b9e9-e491953a0561&query=stieg&pagenumber=0&pagesize=12&sort=default&type=0&includenotallowedbooks=0)

        **Example Request URL (for Level 3 Bookgroups Facets):** [http://104.155.208.232:82/api/app/catalogue/6.7/facets?appId=201&version=3.3.2&model=Simulator&osinfo=11.4&deviceid=1869C1C1-77D5-4AEA-B5F1-E1CE8045768B&locale=sv_SE&token=f77e8f50-73c2-436f-b9e9-e491953a0561&bookgroupid=ttc_413](http://104.155.208.232:82/api/app/catalogue/6.7/facets?appId=201&version=3.3.2&model=Simulator&osinfo=11.4&deviceid=1869C1C1-77D5-4AEA-B5F1-E1CE8045768B&locale=sv_SE&token=f77e8f50-73c2-436f-b9e9-e491953a0561&bookgroupid=ttc_413)
      tags:
        - Search
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: drama
          in: query
          name: query
          description: Search term. All API versions. Required API v6.5 and higher (optional v6.7 and higher).
          required: true
        - schema:
            type: string
            example: tttl_Nyheter ttc_413 sc_1010
          in: query
          name: bookgroupid
          description: 'Level 3 bookgroupid required for facets/filters. If both “query” and “bookgroupid” are passed, “query” takes precedence and “bookgroupid” is ignored.'
          required: true
        - schema:
            type: boolean
            example: true
          in: query
          name: includenotallowedbooks
          description: 'A boolean value (“1” or “0”) that indicates if books returned by the server are not allowed under the account holder’s subscription. "1" (true) = books are not allowed, “0” (false) = books are allowed. Pagination starts from 0. API v6.2 and higher.'
          required: false
        - schema:
            type: string
            example: Stieg Trenter (URL escaped)
          in: query
          name: 'authors_facet '
          description: 'Facet-related GET parameter to match NX-014. Parameters are authors_facet, formattype_facet, language_facet, categoryids_facet, seriesAsit_facet. The app should not keep this hardcoded, however it should hard-code the list of supported facets. Multiple values are comma-separated. API v6.5 and higher. '
          required: false
        - schema:
            type: string
            example: 'sv,en'
          in: query
          name: languages
          description: 'Takes single or multiple language codes as values, separated by a comma. If this is not passed, the backend filters bookgroups based on languages allowed for the user market. Any other language values specified will be ignored. If the format of the values is invalid, error code 1000 will be returned. API v7.1 and higher.'
          required: false
        - schema:
            type: string
            example: '1'
            enum:
              - '0'
              - '1'
              - '2'
          in: query
          name: type
          description: 'The type of book. Values are “0”, “1” and “2”. "1" = only e-books are returned. "2" = only audio books are returned. If missing or "0" then both e-books and audio books are returned. All API versions.'
          required: false
        - schema:
            type: boolean
            example: true
          in: query
          name: tags
          description: 'A boolean value (“1” or “0”) that indicates if the query is on tags. “1” (true) = is on tags, “0” (false) = is not on tags. API v7.1 and higher. Deprecated.'
          required: false
          deprecated: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - books
                      - bookcount
                      - notallowedbookcount
                      - facets
                    properties:
                      books:
                        type: array
                        items:
                          type: object
                      bookcount:
                        type: number
                        example: 0
                        description: The total number of books in the bookgroup. Required in case of the /searchbooks (NX-013) endpoint response. All API versions.
                      notallowedbookcount:
                        type: number
                        example: 0
                        description: The total number of books that are not allowed for the account holder's subscription. Required in case of /searchbooks (NX-013) endpoint response. API v6.2 and higher.
                      facets:
                        type: array
                        uniqueItems: true
                        items:
                          type: object
                          properties:
                            attribute:
                              type: string
                              example: authors
                              description: 'What aspect is being filtered on in this section. In this example, the items listed will be the names of authors.'
                            isRange:
                              type: boolean
                              example: false
                              description: 'A boolean value ("1" or "0") that indicates if the attribute is a numerical range. For example, book length. “1” (true) = is a numerical range, “0” (false) = is not a numerical range. The API does not use ranged values, only multiple-choice values. But the backend system supports filtering by numerical values in a range.'
                            values:
                              type: array
                              description: 'What alternatives can be elected for this attribute. In this example, each value is an author name.'
                              uniqueItems: true
                              items:
                                type: object
                                properties:
                                  text:
                                    type: string
                                    example: Stieg Trenter
                                    description: What is shown to the end user to explain this option.
                                  count:
                                    type: number
                                    example: 37
                                    description: How many books will be shown to the end user if they select this option.
                                  selected:
                                    type: boolean
                                    example: false
                                    description: 'A boolean value ("1" or "0") that indicates if the user has already selected this option. “1” (true) = has selected, “0” (false) = has not selected. The user can make multiple selections, and for each selection this API call gets refreshed.'
                                required:
                                  - text
                                  - count
                                  - selected
                            primaryfacet:
                              type: boolean
                              example: true
                              description: Primary facets are cecets that are shown in expanded form on the initial facet view. The rest are shown in condensed form and need to be manually expanded.
                          required:
                            - attribute
                            - isRange
                            - primaryfacet
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      books: []
                      bookcount: 0
                      notallowedbookcount: 0
                      facets:
                        - attribute: authors
                          isRange: false
                          values:
                            - text: Stieg Trenter
                              count: 37
                              selected: false
                            - text: Stieg Larsson
                              count: 7
                              selected: false
                            - text: Eva Gabrielsson
                              count: 2
                              selected: false
                            - text: Kurdo Baksi
                              count: 1
                              selected: false
                            - text: Anna Jansson
                              count: 1
                              selected: false
                            - text: Carin Gerhardsen
                              count: 1
                              selected: false
                            - text: Cilla Börjlind
                              count: 1
                              selected: false
                            - text: Dag Öhrlund
                              count: 1
                              selected: false
                            - text: Henning Mankell
                              count: 1
                              selected: false
                            - text: Håkan Nesser
                              count: 1
                              selected: false
                            - text: Inger Frimansson
                              count: 1
                              selected: false
                            - text: Jan-Erik Pettersson
                              count: 1
                              selected: false
                            - text: Johan Theorin
                              count: 1
                              selected: false
                            - text: Katarina Wennstam
                              count: 1
                              selected: false
                            - text: Magnus Montelius
                              count: 1
                              selected: false
                            - text: Maj Sjöwall
                              count: 1
                              selected: false
                            - text: Malin Persson Giolito
                              count: 1
                              selected: false
                            - text: Marie-Françoise Colombani
                              count: 1
                              selected: false
                            - text: Per Wahlöö
                              count: 1
                              selected: false
                            - text: Rolf Börjlind
                              count: 1
                              selected: false
                            - text: Sara Stridsberg
                              count: 1
                              selected: false
                            - text: Tove Alsterdal
                              count: 1
                              selected: false
                            - text: Ulla Trenter
                              count: 1
                              selected: false
                            - text: Veronica von Schenck
                              count: 1
                              selected: false
                            - text: Åke Edwardson
                              count: 1
                              selected: false
                            - text: Åsa Larsson
                              count: 1
                              selected: false
                          primaryfacet: true
                        - attribute: seriesAsit
                          isRange: false
                          values:
                            - text: Harry Friberg
                              count: 24
                              selected: false
                            - text: Millennium
                              count: 6
                              selected: false
                          primaryfacet: false
                        - attribute: subscriptionorder
                          isRange: false
                          values:
                            - text: '1'
                              count: 48
                              selected: false
                            - text: '2'
                              count: 1
                              selected: false
                          primaryfacet: false
                        - attribute: language
                          isRange: false
                          values:
                            - text: sv
                              count: 45
                              selected: false
                            - text: fi
                              count: 3
                              selected: false
                          primaryfacet: false
                        - attribute: avgrate
                          isRange: true
                          range:
                            min: '3.0'
                            max: '4.75'
                            minSelected: '3.0'
                            maxSelected: '4.75'
                          primaryfacet: true
                        - attribute: categoryids
                          isRange: false
                          values:
                            - text: '1'
                              count: 42
                              selected: false
                              displayname: Deckare
                            - text: '240'
                              count: 5
                              selected: false
                              displayname: Fakta
                            - text: '108'
                              count: 4
                              selected: false
                              displayname: Biografier & memoarer
                            - text: '310'
                              count: 1
                              selected: false
                              displayname: Livsstil
                          primaryfacet: false
                        - attribute: formattype
                          isRange: false
                          values:
                            - text: '1'
                              count: 48
                              selected: false
                            - text: '2'
                              count: 16
                              selected: false
                          primaryfacet: false
  /forgotpassword:
    get:
      summary: Username and password
      operationId: NX-0021
      description: |-
        **Description:** Triggers an email that allows the account holder to reset their password.

        **Parameters:** Mandatory header parameters plus one query parameter.

        **Example Request URL:** [https://www.nextory.se/api/5.1/forgotpassword?email=taras%40frescano.se&osinfo=Android%207.0&appId=200&deviceid=000000000000000&version=2.1&model=Unknown%2BAndroid%2BSDK%2Bbuilt%2Bfor%2Bx86_64](https://www.nextory.se/api/5.1/forgotpassword?email=taras%40frescano.se&osinfo=Android%207.0&appId=200&deviceid=000000000000000&version=2.1&model=Unknown%2BAndroid%2BSDK%2Bbuilt%2Bfor%2Bx86_64)
      tags:
        - Authentication and login
      parameters:
        - schema:
            type: string
            example: ios_sigma@frescano.se
          in: query
          name: username
          description: The username or email as it is. Not required for Facebook/Google logins. All API versions.
          required: true
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - msg
                    properties:
                      msg:
                        type: string
                        example: Instruktioner för återställande av lösenord har skickats till din e-post
                        description: The message returned to the account holder when they request a password reset.
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      msg: Instruktioner för återställande av lösenord har skickats till din e-post
  /globallanguages:
    get:
      summary: Global languages
      operationId: NX-027
      description: |-
        **Description:** Gets a list of book languages available in the account holder’s current market.

        **Parameters:** Mandatory header parameters only.

        **Example Request URL:** [https://www.nextory.se/api/app/user/6.6/globallanguages](https://www.nextory.se/api/app/user/6.6/globallanguages)
      tags:
        - Account holders and users
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - primary
                      - languages
                    properties:
                      primary:
                        type: string
                        example: sv
                        description: The primary language available in the account holder's current market.
                      languages:
                        type: array
                        description: All languages available in the account holder's current market.
                        items: {}
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      primary: sv
                      languages:
                        - sv
                        - fi
                        - en
  /groups:
    get:
      summary: Fetch bookgroups
      operationId: NX-004
      description: |-
        **Description:** Returns a list of bookgroups. Bookgroups are the core list of books around which the entire app is built.

        **Parameters:** Mandatory header parameters plus several query parameters.

        **Example Request URL:** [https://www.nextory.se/api/5.1/forgotpassword?email=taras%40frescano.se&osinfo=Android%207.0&appId=200&deviceid=000000000000000&version=2.1&model=Unknown%2BAndroid%2BSDK%2Bbuilt%2Bfor%2Bx86_64](https://www.nextory.se/api/5.1/forgotpassword?email=taras%40frescano.se&osinfo=Android%207.0&appId=200&deviceid=000000000000000&version=2.1&model=Unknown%2BAndroid%2BSDK%2Bbuilt%2Bfor%2Bx86_64)
      tags:
        - Books and bookgroups
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: level2
            enum:
              - BOOK_CARD
              - FOLLOW_LIST
              - level2
              - main
              - related
              - series
          in: query
          name: view
          description: 'Defines the place in the app where retrieved bookgroups appear. Values are “main”, “level2”, “series”, “related”, “BOOK_CARD” and “FOLLOW_LIST”. API v6.0 and higher.'
          required: true
        - schema:
            type: string
            example: ttc_123
          in: query
          name: bookgroupid
          description: Top-tier category book group identifier. Required if "view" = "level2". API v6.0 and higher.
          required: true
        - schema:
            type: string
            example: '1033884'
          in: query
          name: bookid
          description: Book identifier. Required if "view" = "related". API v6.0 and higher.
          required: true
        - schema:
            type: string
            example: '1'
          in: query
          name: pagenumber
          description: Page number for lazy load (pagination). Default value = “0”. All API versions.
          required: true
        - schema:
            type: string
            example: '7'
          in: query
          name: pagesize
          description: The number of bookgroups displayed on a single page. Required if view = "series". There may be situations where a page contains fewer bookgroups than requested. But this does not mean that the next page will contain zero bookgroups. The app therefore needs to continue asking for more bookgroups until it gets an empty array of bookgroups in response. API v6.0 and higher.
          required: true
        - schema:
            type: string
            example: 'sv,en'
          in: query
          name: languages
          description: 'Takes single or multiple language codes as values, separated by a comma. If this is not passed, the backend filters bookgroups based on languages allowed for the user market. Any other language values specified will be ignored. If the format of the values is invalid, error code 1000 will be returned. API v7.1 and higher.'
          required: true
        - schema:
            type: string
            example: '1'
          in: query
          name: formattype
          description: 'The type of book. Values are “0”, “1” and “2”. "1" = only e-books are returned. "2" = only audio books are returned. If missing or "0" then both e-books and audio books are returned. All API versions.'
          required: true
        - schema:
            type: string
            example: Any string
          in: query
          name: nextpageid
          description: 'To get the first page of content, the app can send this value as “0”. For subsequent calls, the app will send back the nextpageid provided by the backend. If “nextpageid” is provided, then “pagenumber” and “pagesize” should not be sent. When using “nextpageid”, “pagesize” is fixed at 10. For the final page, the backend will not send “nextpageid”. This tells the app that there is no more data to fetch. “nextpageid” is only supported when “view” = “FOLLOW_LIST”. Optional from API v7.4 and higher.'
          required: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - bookgroups
                    properties:
                      nextpageid:
                        type: string
                        example: '2021-02-08T13:32:54.109000000Z'
                        description: 'To get the first page of content, the app can send this value as “0”. For subsequent calls, the app will send back the nextpageid provided by the backend. If “nextpageid” is provided, then “pagenumber” and “pagesize” should not be sent. When using “nextpageid”, “pagesize” is fixed at 10. For the final page, the backend will not send “nextpageid”. This tells the app that there is no more data to fetch. “nextpageid” is only supported when “view” = “FOLLOW_LIST”. Optional from API v7.4 and higher.'
                      bookgroups:
                        type: array
                        uniqueItems: true
                        items:
                          type: object
                          properties:
                            parentid:
                              type: string
                              example: ttc_123
                              description: Parent bookgroup (top-tier category book) identifier. Required for Level2 API only. API v6.0 and higher.
                            id:
                              type: string
                              example: sc_3245
                              description: The bookgroup identifier. Used by the NX-0041 endpoint as a GET parameter. API v6.0 and higher.
                            type:
                              type: string
                              example: SUB_CATEGORY_TOP_LIST_TYPE
                              description: 'The bookgroup type. API v6.0 and higher except for Top-Tier Watch-List (v6.8 and above), Top-Tier Upcoming-List (v6.9 and above), BOOK_CARD_AUTHORS, BOOK_CARD_SERIES, BOOK_CARD_NARRATORS (v7.1 and above).'
                              enum:
                                - BOOK_CARD_AUTHORS
                                - BOOK_CARD_SERIES
                                - BOOK_CARD_NARRATORS
                                - Promotion_LIST_TYPE
                                - TOP_TIER_TOP_LIST_TYPE
                                - RELATED_TYPE
                                - SUB_CATEGORY_TOP_CATEGORY_TYPE
                                - SUB_CATEGORY_TOP_LIST_TYPE
                                - TOP_TIER_TOP_CATEGORY_TYPE
                                - Top-Tier Upcoming-List
                                - Top-Tier Watch-List
                            contenttype:
                              type: number
                              example: 0
                              description: 'An enum value that defines the content type of a bookgroup. "1" = a bookgroup with e-books only, "2" = a bookgroup with audio books only, "0" a bookgroup with both e-books and audio books. API v6.0 and higher.'
                              enum:
                                - 0
                                - 1
                                - 2
                            title:
                              type: string
                              example: Deckare & kriminalromaner
                              description: The title of the bookgroup. API v6.0 and higher.
                            description:
                              type: string
                              example: Make that long journey in the car more entertaining with audio books for the whole family.
                              description: 'A description of the bookgroup. Applies only to the "Promotion" bookgroup type. Can be an empty string, but not null. API v6.3 and higher.'
                            label:
                              type: string
                              example: All ages
                              description: 'Applies only to the "Promotion" bookgroup type. Can be an empty string, but not null. Text is kept short to prevent an issue in the UI if the label text is too long. API v6.3 and higher.'
                            imageurl:
                              type: string
                              example: 'https://www.nextory.se/promolistimages/1007145.jpg'
                              description: Valid image URL. Applies only to the "Promotion" bookgroup type. The image does not need to support resizing on the server. API v6.3 and higher.
                            imagelargeurl:
                              type: string
                              example: 'https://www.nextory.se/promolistimages/1007146.jpg'
                              description: Valid image URL. Applies only to "Promotion" bookgroup type. The image does not need to support resizing on the server. API v6.3 and higher.
                            darktext:
                              type: boolean
                              example: true
                              description: 'A boolean value (“1” or “0”) that indicates if a bookgroup’s text should be dark or light. “1” (true) = text is dark, “0” (false) = text is light. Applies to the “promotion” bookgroup type only. For images that are very dark, we want to be able to switch the text color to a light color. API v6.3 and higher.'
                            haschild:
                              type: boolean
                              example: false
                              description: 'A boolean value ("1" or "0") that indicates if a bookgroup is a parent of other bookgroups. “1” (true) = is a parent, “0” = is not a parent. Basically, all top-tier categories are parent bookgroups, but we need this attribute in order to support, say, parent top-lists in the future. API v6.0 and higher.'
                            covers:
                              type: array
                              description: An array that holds exactly three strings. Each string is a link to a cover image. The three links point to the cover images of the first three books in the series. API v6.0 and higher.
                              items:
                                type: string
                            position:
                              type: number
                              example: 4
                              description: 'Defines how bookgroups are sorted in a list (e.g. on the home screen, in Level 2, on a book card screen) as well as in order of series popularity. The position must be unique for each bookgroup in each of the four APIs (top-tier list types) and must be globally sortable for historical reasons. API v6.0 and higher.'
                            allowsorting:
                              type: boolean
                              example: true
                              description: 'A boolean value ("1" or "0") that indicates if ordering (sorting) is allowed for a certain bookgroup. “1” (true) = sorting is allowed, “0” (false) = sorting is not allowed. For example, in some related bookgroups (books in the same series) we will not allow ordering similar to all popular series. Also, in the New and We Recommend top-tier top-lists and sub-top-lists we will not allow ordering because of Apptus limitations. API v6.0 and higher (will be deprecated once the app starts consuming the “sortfields” parameter).'
                            showvolume:
                              type: boolean
                              example: true
                              description: 'A boolean value ("1" or "0") that indicates if the app should show the volume number of each individual book in a bookgroup (see the “numberinseries” book attribute in NX-0041). “1” (true) = the app will show the “numberinseries” value only if it is greater than zero, “0” (false) = the app uses “0” as a default value when “showvolume” is missing. API v6.0 and higher.'
                            showfilter:
                              type: boolean
                              example: true
                              description: 'A boolean value ("1" or "0") that indicates if filter/facets are to be enabled for a bookgroup/list. “1” (true) = show the filter, “0” (false) = do not show the filter. Facets are not supported by Apptus for some lists such as ''Recommended for you''. API v6.7 and higher.'
                            additionalattribs:
                              type: object
                              example:
                                '0': Harry Potter
                              description: 'A JSON object containing a key/value pair sequence. Position starting from 0 is a key, and the value is a book title to be used to label the custom panel "Because you like". The value is set only for the group type "Top-Tier Watch-List". API v6.7 and higher.'
                              required:
                                - ''
                              properties:
                                '':
                                  type: string
                            sortfields:
                              type: object
                              example:
                                sortfields:
                                  - field: nest
                                    position: 0
                                    default: 0
                                  - field: title
                                    position: 1
                                    default: 0
                                  - field: publisheddate
                                    position: 2
                                    default: 1
                                  - field: rating
                                    position: 3
                                    default: 0
                                  - field: relevance
                                    position: 4
                                    default: 0
                              description: An array of objects containing sort field and position. The order of the sort attributes are maintained in the backend (so the backend will send in sorted order). API v7.1 and higher.
                            smallimage:
                              type: string
                              example: 'https: //storage.google/catimages/deckare.jpg'
                              description: A small image to be used as a background when displaying this list on smaller screens. API v7.1 and higher.
                            largeimage:
                              type: string
                              example: 'https: //storage.google/catimages/deckare_lar.jpg'
                              description: A larger image to be used as a background for larger screens. API v7.1 and higher.
                            bgc:
                              type: string
                              example: '#C13010'
                              description: A background color to be used when displaying the list. API v7.1 and higher.
                            bookcount:
                              type: number
                              example: 200
                              description: The total number of books in the list. API v7.1 and higher.
                            socialmeta:
                              type: object
                              properties:
                                followid:
                                  type: string
                                  example: '213123'
                                  description: An identifier that can be used to follow this particular list and get updates when new books arrive. The socialmeta tag itself will not be present if the bookgroup is not eligible for social. API v7.1 and higher.
                                followtype:
                                  type: string
                                  example: author
                                  description: 'The type of list this is in the context of following. Examples include author, series, narrator. The socialmeta tag itself will not be present if the bookgroup is not eligible for social. API v7.1 and higher.'
                                followslug:
                                  type: string
                                  example: annika-bengtzon-531
                                  description: A globally unique identifier for this list. Can be used to find this list on a website or other system that requires properly printed names for things. API v7.1 and higher.
                                title:
                                  type: string
                                  example: Annika Begtzon
                                  description: The title of this list. To be used in the social/following context. API v7.1 and higher.
                                version:
                                  type: string
                                  example: '1.0'
                                  description: The version of the socialmeta object. API v7.1 and higher.
                                activityfeed:
                                  type: boolean
                                  example: true
                                  description: 'A boolean value (“1” or “0”) that indicates if the account holder is currently getting updates to their activity feed from this list. “1” = is getting updates, “0” = is not getting updates. The socialmeta tag itself will not be present if the bookgroup is not eligible for social. API v7.1 and higher.'
                                notification:
                                  type: boolean
                                  example: true
                                  description: 'A boolean value ("1" or "0") that indicates if the account holder is currently getting push notifications about updates to this list. “1” (true) = is getting notifications, “0” (false) = is not getting notifications. The socialmeta tag itself will not be present if the bookgroup is not eligible for social. API v7.1 and higher.'
                                followers:
                                  type: number
                                  example: 123123
                                  description: The number of account holders who are currently following this list. The socialmeta tag itself will not be present if the bookgroup is not eligible for social. API v7.1 and higher.
                                weblink:
                                  type: string
                                  example: 'https://www.nextory.se/kategorier/alla-bocker/forfatter/annika-bengtzon-531/?ref=author'
                                  description: A link to the website representation of this list. The socialmeta tag itself will not be present if the bookgroup is not eligible for social. API v7.1 and higher.
                              required:
                                - followid
                                - followtype
                                - activityfeed
                                - notification
                                - followers
                          required:
                            - id
                            - type
                            - title
                            - haschild
                            - position
                            - allowsorting
                            - showfilter
                required:
                  - data
              examples:
                Example (Main View):
                  value:
                    data:
                      nextpageid: '2021-02-08T13:32:54.109000000Z'
                      bookgroups:
                        - id: tttl_watch_422_10027204
                          type: Top-Tier Watch-List
                          title: 'Because you read {title}'
                          haschild: false
                          position: 0
                          allowsorting: false
                          showfilter: false
                          additionalattribs:
                            '0': Calendar Girl
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: title
                                  position: 1
                                  default: 0
                                - field: publisheddate
                                  position: 2
                                  default: 1
                                - field: rating
                                  position: 3
                                  default: 0
                                - field: relevance
                                  position: 4
                                  default: 0
                        - id: tttl_upcoming_56
                          type: Top-Tier Upcoming-List
                          title: Upcoming Books
                          haschild: false
                          position: 0
                          allowsorting: false
                          showfilter: false
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: nest
                                  position: 0
                                  default: 1
                                - field: title
                                  position: 1
                                  default: 0
                                - field: publisheddate
                                  position: 2
                                  default: 0
                                - field: rating
                                  position: 3
                                  default: 0
                                - field: relevance
                              position: 4
                              default: 0
                        - id: tttl_TopE
                          type: TOP_TIER_TOP_LIST_TYPE
                          title: Populära e-böcker
                          haschild: true
                          position: 0
                          allowsorting: true
                          showfilter: true
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: nest
                                  position: 0
                                  default: 0
                                - field: title
                                  position: 1
                                  default: 0
                                - field: publisheddate
                                  position: 2
                                  default: 1
                                - field: rating
                                  position: 3
                                  default: 0
                                - field: relevance
                                  position: 4
                                  default: 0
                        - id: tttl_TopA
                          type: TOP_TIER_TOP_LIST_TYPE
                          title: Populära ljudböcker
                          haschild: true
                          position: 1
                          allowsorting: true
                          showfilter: true
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: nest
                                  position: 0
                                  default: 0
                                - field: title
                                  position: 1
                                  default: 0
                                - field: publisheddate
                                  position: 2
                                  default: 1
                                - field: rating
                                  position: 3
                                  default: 0
                                - field: relevance
                                  position: 4
                                  default: 0
                        - id: ttc_123
                          type: TOP_TIER_TOP_CATEGORY_TYPE
                          title: Silfverbielke
                          haschild: true
                          position: 2
                          allowsorting: true
                          showfilter: true
                        - id: p_1
                          type: Promotion_LIST_TYPE
                          title: Take some books on your road trip
                          description: Make that long journey in the car more entertaining with audio books for the whole family.
                          label: All ages
                          imageurl: 'https://www.nextory.se/coverimg/130/1007145.jpg'
                          imagelargeurl: 'https://www.nextory.se/coverimg/130/1007145.jpg'
                          haschild: false
                          position: 3
                          allowsorting: false
                          showfilter: false
                          socialmeta:
                            followid: '1347'
                            followtype: author
                            followslug: gunilla-wolde-1347
                            title: Gunilla Wolde
                            version: '1.0'
                            activityfeed: false
                            notification: true
                            followers: 623
                            weblink: 'https://www.nextory.se/kategorier/alla-bocker/forfatter/gunilla-wolde-1347/?ref=author'
                Example (level2 View):
                  value:
                    data:
                      nextpageid: '2021-02-08T13:32:54.109000000Z'
                      bookgroups:
                        - parentid: ttc_123
                          id: sc_3245
                          type: SUB_CATEGORY_TOP_LIST_TYPE
                          contenttype: 0
                          title: Deckare & kriminalromaner
                          description: Make that long journey in the car more entertaining with audio books for the whole family.
                          label: All ages
                          imageurl: 'https://www.nextory.se/promolistimages/1007145.jpg'
                          imagelargeurl: 'https://www.nextory.se/promolistimages/1007146.jpg'
                          darktext: true
                          haschild: false
                          covers:
                            - 'https://www.nextory.se/coverimg/130/10026058.jpg'
                            - 'https://www.nextory.se/coverimg/130/10026052.jpg'
                            - 'https://www.nextory.se/coverimg/130/10045760.jpg'
                          position: 4
                          allowsorting: true
                          showvolume: true
                          showfilter: true
                          additionalattribs:
                            '0': Harry Potter
                          sortfields:
                            sortfields:
                              - field: nest
                                position: 0
                                default: 0
                              - field: title
                                position: 1
                                default: 0
                              - field: publisheddate
                                position: 2
                                default: 1
                              - field: rating
                                position: 3
                                default: 0
                              - field: relevance
                                position: 4
                                default: 0
                          smallimage: 'https: //storage.google/catimages/deckare.jpg'
                          largeimage: 'https: //storage.google/catimages/deckare_lar.jpg'
                          bgc: '#C13010'
                          bookcount: 200
                          socialmeta:
                            followid: '213123'
                            followtype: author
                            followslug: annika-bengtzon-531
                            title: Annika Begtzon
                            version: '1.0'
                            activityfeed: true
                            notification: true
                            followers: 123123
                            weblink: 'https://www.nextory.se/kategorier/alla-bocker/forfatter/annika-bengtzon-531/?ref=author'
                Example (Series View):
                  value:
                    data:
                      bookgroups:
                        - id: s_1234
                          type: BOOK_CARD_SERIES
                          title: Nobelpriset 2017
                          haschild: false
                          covers:
                            - 'https://www.nextory.se/coverimg/130/10026058.jpg'
                            - 'https://www.nextory.se/coverimg/130/10026052.jpg'
                            - 'https://www.nextory.se/coverimg/130/10045760.jpg'
                          position: 0
                          allowsorting: false
                          showvolume: true
                          showfilter: true
                        - id: s_1235
                          type: BOOK_CARD_SERIES
                          title: Jana Berzelius
                          haschild: false
                          covers:
                            - 'https://www.nextory.se/coverimg/130/10018115.jpg'
                            - 'https://www.nextory.se/coverimg/130/10022966.jpg'
                            - 'https://www.nextory.se/coverimg/130/10027203.jpg'
                          position: 1
                          allowsorting: false
                          showvolume: true
                        - id: s_1236
                          type: BOOK_CARD_SERIES
                          title: Silfverbielke
                          haschild: false
                          covers:
                            - 'https://www.nextory.se/coverimg/130/10015158.jpg'
                            - 'https://www.nextory.se/coverimg/130/10041773.jpg'
                            - 'https://www.nextory.se/coverimg/130/10030367.jpg'
                          position: 2
                          allowsorting: false
                Example (Related View):
                  value:
                    data:
                      bookgroups:
                        - id: r_12543_series
                          type: RELATED_TYPE
                          title: Titlar av författaren
                          haschild: false
                          position: 0
                          allowsorting: false
                          showvolume: true
                          showfilter: true
                Example (BOOK_CARD View):
                  value:
                    data:
                      bookgroups:
                        - id: r_10443923_series
                          type: RELATED_TYPE
                          title: Serie Otavan äänikirja
                          haschild: false
                          position: 0
                          allowsorting: true
                          showfilter: true
                          showvolume: true
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: volume
                                  position: 0
                                  default: 1
                                - field: relevance
                                  position: 1
                                  default: 0
                                - field: published_date
                                  position: 2
                                  default: 0
                                - field: average_rating
                                  position: 3
                                  default: 0
                                - field: title
                                  position: 4
                                  default: 0
                                - field: authors
                                  position: 5
                                  default: 0
                        - id: r_10443923_rec
                          type: RELATED_TYPE
                          title: Andra har också läst
                          haschild: false
                          position: 1
                          allowsorting: false
                          showfilter: false
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: relevance
                                  position: 0
                                  default: 1
                        - id: s_Otavan äänikirja
                          type: BOOK_CARD_SERIES
                          title: Otavan äänikirja
                          haschild: false
                          position: 2
                          allowsorting: true
                          showfilter: true
                          showvolume: true
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: volume
                                  position: 0
                                  default: 1
                                - field: relevance
                                  position: 1
                                  default: 0
                                - field: published_date
                                  position: 2
                                  default: 0
                                - field: average_rating
                                  position: 3
                                  default: 0
                                - field: title
                                  position: 4
                                  default: 0
                                - field: authors
                                  position: 5
                                  default: 0
                        - id: search_authors_Madeleine Bernadotte
                          type: BOOK_CARD_AUTHORS
                          title: Madeleine Bernadotte
                          haschild: false
                          position: 3
                          allowsorting: true
                          showfilter: true
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: relevance
                                  position: 0
                                  default: 1
                                - field: published_date
                                  position: 1
                                  default: 0
                                - field: average_rating
                                  position: 2
                                  default: 0
                                - field: title
                                  position: 3
                                  default: 0
                                - field: authors
                                  position: 4
                                  default: 0
                        - id: search_authors_Karini Gustafson-Teixeira
                          type: BOOK_CARD_AUTHORS
                          title: Karini Gustafson-Teixeira
                          haschild: false
                          position: 4
                          allowsorting: true
                          showfilter: true
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: relevance
                                  position: 0
                                  default: 1
                                - field: published_date
                                  position: 1
                                  default: 0
                                - field: average_rating
                                  position: 2
                                  default: 0
                                - field: title
                                  position: 3
                                  default: 0
                                - field: authors
                                  position: 4
                                  default: 0
                        - id: search_authors_Marie Oskarsson
                          type: BOOK_CARD_AUTHORS
                          title: Marie Oskarsson
                          haschild: false
                          position: 5
                          allowsorting: true
                          showfilter: true
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: relevance
                                  position: 0
                                  default: 1
                                - field: published_date
                                  position: 1
                                  default: 0
                                - field: average_rating
                                  position: 2
                                  default: 0
                                - field: title
                                  position: 3
                                  default: 0
                                - field: authors
                                  position: 4
                                  default: 0
                        - id: search_narrators_Saara Lehtonen
                          type: BOOK_CARD_NARRATORS
                          title: Saara Lehtonen
                          haschild: false
                          position: 6
                          allowsorting: true
                          showfilter: true
                          sortfields:
                            type: object
                            example:
                              sortfields:
                                - field: relevance
                                  position: 0
                                  default: 1
                                - field: published_date
                                  position: 1
                                  default: 0
                                - field: average_rating
                                  position: 2
                                  default: 0
                                - field: title
                                  position: 3
                                  default: 0
                                - field: authors
                                  position: 4
                                  default: 0
  /library/active:
    get:
      summary: My List (active books)
      operationId: NX-007
      description: |-
        **Description:** Gets a list of books that the account holder is currently reading.

        **Parameters:** Mandatory header parameters only.

        **Example Request URL:** [https://www.nextory.se/api/app/library/6.5/active](https://www.nextory.se/api/app/library/6.5/active)

        **Book Formats:**
        For audio books, the app can either download an MP3 for offline playback or use another format that is appropriate for streaming playback.

        **Other Information:**
        See NX-008 for information about timestamp, pagination, sorting and filtering.
      tags:
        - Account holders and users
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - bookCount
                      - books
                    properties:
                      bookCount:
                        type: string
                        example: '1'
                        description: The total number of books in the bookgroup. Required in case of the /searchbooks (NX-013) endpoint response. All API versions.
                      books:
                        type: array
                        uniqueItems: true
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              example: '1026126'
                              description: The identifier for the book itself. All API versions.
                            type:
                              type: string
                              example: '1'
                              description: 'Enum value that defines the content type of a book. "1" e-books only, "2" audio book only. All API versions.'
                              enum:
                                - '0'
                                - '1'
                                - '2'
                            isbn:
                              type: string
                              example: '9789113101996'
                              description: The book ISBN number. All API versions.
                            authors:
                              type: array
                              description: The book author or authors. All API versions.
                              items: {}
                            dateModified:
                              type: string
                              example: '02-10-2016 15:32:26 +0100'
                              description: The date when a book was last added to My List or inactivation (another way to add a book to My List). Used for sorting purposes. The book with the most recent modification date goes first. All API versions.
                            descriptionBrief:
                              type: string
                              example: Some description...
                              description: A brief description of the book. Might be a truncated book description from a book card screen. All API versions.
                            streamingfile:
                              type: object
                              description: 'A new optional attribute, “streamingfile” has a format that supports audio streaming file formats. The existing field “file” will be available if MP3 exists. This field format is available only for audio books. In case of audio, “formatid” = “304” (hls). API v7.0 and higher.'
                              properties:
                                url:
                                  type: string
                                  example: 'https://...'
                                  description: The URL of the streamed audio book. API v7.0 and higher.
                                formatid:
                                  type: number
                                  example: 304
                                  description: 'The format of the streamed audio book MP3 resource file. Values are “303” and “304”. “303” = mp3, “304” = hls. API 7.0 and higher.'
                                duration:
                                  type: string
                                  example: '23805'
                                  description: The streamed audio book duration in seconds. Required for audio books only. API 7.0 and higher.
                                sizeinbytes:
                                  type: number
                                  example: 122710929
                                  description: The size of the streamed audio book file in bytes. API v7.0 and higher.
                                checksum:
                                  type: string
                                  example: CXNVa0kBN5rb0Ucr1HBeDA==
                                  description: The streamed audio book file checksum. API v7.0 and higher.
                            file:
                              type: object
                              description: Available if MP3 exists.
                              properties:
                                url:
                                  type: string
                                  example: 'https://...'
                                  description: The URL to download the audio book MP3 file. All API versions.
                                formatid:
                                  type: number
                                  example: 303
                                  description: 'The format of the audio book MP3 resource file. Values are “303” and “304”. “303” = mp3, “304” = hls. All API versions.'
                                duration:
                                  type: string
                                  example: '23805'
                                  description: The MP3 audio book duration in seconds. Required for audio books only. All API versions.
                                sizeinbytes:
                                  type: number
                                  example: 142710929
                                  description: The size of the MP3 file in bytes. All API versions.
                                checksum:
                                  type: string
                                  example: CXNVa0kBN5rb0Ucr1HBeDA==
                                  description: The MP3 audio book file checksum. All API versions.
                              required:
                                - url
                                - formatid
                                - duration
                                - sizeinbytes
                                - checksum
                            imageUrl:
                              type: string
                              example: 'https://www.nextory.se/coverimg/130/1026126.jpg'
                              description: Valid image URL. Applies only to the "Promotion" bookgroup type. The image does not need to support resizing on the server. API v6.3 and higher.
                            weburl:
                              type: string
                              example: 'https://nextory.se/bok/jakten-pa-tam-jo-salmson/1007145'
                              description: Bookdetails link for Nextory web. All API versions.
                            libId:
                              type: string
                              example: '168190'
                              description: 'The book identifier in the account holder’s library. Used in the activation process. Different from “id” and specific to each profile. When the book is not in my list or active, then we assume that “libId” is zero. All API versions.'
                            allowedinlibrary:
                              type: boolean
                              example: true
                              description: 'A boolean value ("1" or "0") that indicates if the book is available to the account holder’s current subscription. “1” (true) = is available, “0” (false) = is not available. The value should always = “1” for active books because an active book cannot be ‘not allowed’ in an account holder’s library. All API versions.'
                            relatedbookallowedinlibrary:
                              type: boolean
                              example: false
                              description: 'A boolean value ("1" or "0") that indicates if the related book is available to the account holder’s current subscription. “1” (true) = is available, “0” (false) = is not available. Required in case of non-empty “relatedbookid”. All API versions.'
                            pubDate:
                              type: string
                              example: '02-10-2016 15:32:26 +0100'
                              description: The book publication date. The date format might be different but must be consistent across the entire API. Used to sort books locally by date. All API versions.
                            relatedBookId:
                              type: string
                              description: 'Indicates if the e-book has a related audiobook or vice versa. Contains an identifier for the related book. If missing, then the book does not have a related book. All API versions.'
                              example: '1007146'
                            synchsettings:
                              type: object
                              properties:
                                completed:
                                  type: string
                                  example: '0'
                                  description: 'The read status of the book. Values are “0” and “1”. "0" = the book has not been completed (is in progress), "1" = the book has been completed. It is not necessary for “currentpercentage” to = “1” since the account holder can just indicate that a book is completed. All API versions.'
                                currentPercentage:
                                  type: string
                                  example: '0.75'
                                  description: 'The current read position. A value between “0” and “1”. If missing, it means that a book is unread/not listened to (in other words, is equal to zero). All API versions.'
                                position:
                                  type: number
                                  example: 0.7432
                                  description: 'A value, which is different depending on the book format (ePub, PDF, audio book). If ePub, the value is almost the same as currentPercentage (but sometimes not exactly the same – probably because of SkyePub). If PDF, the value is integer (the exact PDF page number). If audio book, the value is the current playback time in milliseconds. All API versions.'
                                cfi:
                                  type: string
                                  example: '4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                                  description: The value used for Cloudshelf reader sync. All API versions.
                                idref:
                                  type: string
                                  example: epub_Hatadochalskad-7
                                  description: The value used for Cloudshelf reader sync. All API versions.
                                syncdate:
                                  type: string
                                  example: '02-15-2016 13:42:25 +0100'
                                  description: The timestamp when the app last sent the account holder settings to the backend.
                                usageblockslimit:
                                  type: number
                                  example: 10
                                  description: The number of usage blocks to be POSTed in one go. All API versions.
                              required:
                                - completed
                                - currentPercentage
                                - position
                                - cfi
                                - idref
                                - syncdate
                                - usageblockslimit
                            title:
                              type: string
                              example: Nya hyss av Emil i Lönneberga
                              description: The book title. This value is also used to sort books locally by title. All API versions.
                            avgrate:
                              type: number
                              example: 4.5
                              description: The average book rating given by account holders. API v6.3 and higher.
                            numberofrates:
                              type: integer
                              example: 10
                              description: The total number of account holder ratings given to the book. “0” = there are no ratings yet. API v6.3 and higher.
                            userrate:
                              type: number
                              example: 5
                              description: 'The book rating given by the account holder. Values are "0.0", "0.5", "1.0", "1.5", "2.0", "2.5", "3.0", "3.5", "4.0", "4.5", "5.0". A value of 0.0 means that the account holder has not rated the book. API v5.6 and higher.'
                              enum:
                                - 0
                                - 0.5
                                - 1
                                - 1.5
                                - 2
                                - 2.5
                                - 3
                                - 3.5
                                - 4
                                - 4.5
                                - 5
                            isupcoming:
                              type: boolean
                              example: false
                              description: 'A boolean value ("1" or "0") that indicates if the book is upcoming or not. “1” (true) = is upcoming, “0” (false) = is not upcoming. API v6.9 and higher.'
                            isrelatedbookupcoming:
                              type: boolean
                              example: true
                              description: 'A boolean value ("1" or "0") that indicates if the related book is upcoming or not. “1” (true) = is upcoming, “0” (false) = is not upcoming. API v6.9 and higher.'
                            libstatus:
                              type: string
                              example: ACTIVE
                              description: 'Indicates the possible status of the book in the account holder’s library. Values are “NOTINLIB”, “ACTIVE”, “INACTIVE” and “COMPLETED”. API v7.1 and higher.'
                              enum:
                                - ACTIVE
                                - COMPLETED
                                - INACTIVE
                                - NOTINLIB
                          required:
                            - id
                            - type
                            - isbn
                            - dateModified
                            - descriptionBrief
                            - imageUrl
                            - weburl
                            - libId
                            - allowedinlibrary
                            - relatedbookallowedinlibrary
                            - pubDate
                            - relatedBookId
                            - title
                            - avgrate
                            - numberofrates
                            - userrate
                            - isupcoming
                            - isrelatedbookupcoming
                            - libstatus
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      bookCount: '1'
                      books:
                        - id: '1026126'
                          type: '1'
                          isbn: '9789113101996'
                          authors:
                            - Astrid Lindgren
                            - Astrid Lindgren II
                          dateModified: '02-10-2016 15:32:26 +0100'
                          descriptionBrief: Some description...
                          streamingfile:
                            url: 'https://apptest.nextory.se:82/nest/api/ver2/product/download?data=eyJsaWJpZCI6IjYwOTA2MDEiLCJmb3JtYXRpZCI6IjMwMyIsInByb2R1Y3RpZCI6IjEwMjQ3NjYyIiwib3JkZXJpZCI6Ijg3ODYyMDUiLCJhcHBpZCI6IjE1MDgyNCIsImNoZWNrc3VtIjoiYzkwMTM2OTViYThmMTA5NjYzZjg1Y2ZkZWY2ZDdhZDQifQ==&hls=1'
                            formatid: 304
                            duration: '23805'
                            sizeinbytes: 122710929
                            checksum: CXNVa0kBN5rssss0Ucr1HBeDA==
                          file:
                            url: 'https://apptest.nextory.se:82/nest/api/ver2/product/download?data=eyJsaWJpZCI6IjYwOTA2MDEiLCJmb3JtYXRpZCI6IjMwMyIsInByb2R1Y3RpZCI6IjEwMjQ3NjYyIiwib3JkZXJpZCI6Ijg3ODYyMDUiLCJhcHBpZCI6IjE1MDgyNCIsImNoZWNrc3VtIjoiYzkwMTM2OTViYThmMTA5NjYzZjg1Y2ZkZWY2ZDdhZDQifQ=='
                            formatid: 303
                            duration: '23805'
                            sizeinbytes: 142710929
                            checksum: CXNVa0kBN5rb0Ucr1HBeDA==
                          imageUrl: 'https://www.nextory.se/coverimg/130/1026126.jpg'
                          weburl: 'https://nextory/bok/jakten-pa-tam-jo-salmson/1026126'
                          libId: '94213'
                          allowedinlibrary: true
                          relatedbookallowedinlibrary: false
                          pubDate: '02-10-2016 15:32:26 +0100'
                          relatedBookId: '1007146'
                          synchsettings:
                            completed: '0'
                            currentPercentage: '0.75'
                            position: 0.7432
                            cfi: '4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                            idref: epub_Hatadochalskad-7
                            syncdate: '02-15-2016 13:42:25 +0100'
                            usageblockslimit: 10
                          title: Nya hyss av Emil i Lönneberga
                          avgrate: 4.8018281535649
                          numberofrates: 10
                          userrate: 5
                          isupcoming: true
                          isrelatedbookupcoming: false
                          libstatus: ACTIVE
  /library/inactive:
    get:
      summary: My List (inactive books)
      operationId: NX-008
      description: |
        **Description:** Gets a list of books that the account holder has indicated they want to read in the future.

        **Parameters:** Mandatory header parameters plus one query parameter.

        **Example Request URL:** [https://www.nextory.se/api/app/library/6.5/inactive](https://www.nextory.se/api/app/library/6.5/inactive)

        **Timestamp and Pagination:**
        The app needs to download data by page in case account holders’ My Lists contain a lot of books. For example, download the first 20 books (1-20) then download 20 more books (21-40) and so on.

        Because My List can be updated at any time (mostly because a new book is added or removed, or a subscription is downgraded) we need to indicate the moment when this happens and start loading books for the very first page. In other words, download the first 20 books again after My List is modified. For the best performance, less traffic and better battery life, a combination of timestamp and pagination will be used.

        **Sorting and Filtering:**
        Books in My List can be sorted by title, date and popularity as well as filtered by e-book, audio book, genre, completed, not completed and unread/not listened to. Therefore, any sorting or filtering action leads to removing all books that are stored locally and a performing a new API request with parameters that depend on sorting or filtering. In case all books in My List are stored locally, sorting or filtering is performed on the application side.
      tags:
        - Account holders and users
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: '1'
            enum:
              - '0'
              - '1'
              - '2'
              - '3'
          in: query
          name: completed
          description: 'The read status of the book. Values are “0”, “1”, “2” and “3”. "0" = the book is not yet started, "1" = the book is started or is in progress, "2" = the book is completed, "3" = the book is not yet completed (in other words, a combination of started and not started). If missing or "-1" then all books are returned.'
        - schema:
            type: string
            enum:
              - '0'
              - '1'
              - '2'
            example: '1'
          in: query
          name: type
          description: 'The type of book. Values are “0”, “1” and “2”. "1" = only e-books are returned. "2" = only audio books are returned. If missing or "0" then both e-books and audio books are returned. All API versions.'
          required: false
        - schema:
            type: string
            example: title
            enum:
              - popularity
              - pubdate
              - title
          in: query
          name: sort
          description: 'How search results will be sorted. Values are “relevance”, “pubDate”, “rating”, “title” and “author”. If missing or an incorrect value is passed, the default is “relevance”. “relevance” = descending order (the most relevant book comes first), “title” = ascending order (A-Z), “pubDate” = descending order (the most recently published book comes first).'
          required: false
        - schema:
            type: string
            example: '20'
          in: query
          name: rows
          description: 'The limit of books in the response or the number of books displayed on a single page. If missing, then the default value (12) is used. There may be situations where a page contains fewer books than requested. But this does not mean that the next page will contain zero books. The app therefore needs to continue asking for more books until it gets an empty array of books in response. API v6.0 and higher.'
          required: false
        - schema:
            type: string
            default: '0'
            example: '20'
          in: query
          name: pagenumber
          description: Page number for lazy load (pagination). Default value = “0”. All API versions.
          required: false
        - schema:
            type: string
            example: 123-124
          in: query
          name: genres
          description: 'Bookgroup IDs (genres in particular) separated by a hyphen. For example, "123-124" means ID 123 and ID 124.'
          required: false
        - schema:
            type: string
            example: '1461601790'
          in: query
          name: timestamp
          description: 'If the timestamp parameter is passed with the request, it works as per the information about the timestamp and pagination approach in the introduction to this endpoint.'
          required: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - timestamp
                      - books
                    properties:
                      bookCount:
                        type: string
                        example: '1'
                        description: The total number of books in the bookgroup. Required in case of the /searchbooks (NX-013) endpoint response. All API versions.
                      timestamp:
                        type: string
                        example: '2016-05-04 14:05:17'
                        description: 'If the timestamp parameter is passed with the request, it works as per the information about the timestamp and pagination approach in the introduction to this endpoint.'
                      books:
                        type: object
                        required:
                          - authors
                          - dateModified
                          - genres
                          - descriptionBrief
                          - id
                          - imageUrl
                          - weburl
                          - libId
                          - allowedinlibrary
                          - relatedbookallowedinlibrary
                          - pubDate
                          - synchsettings
                          - title
                          - type
                          - avgrate
                          - numberofrates
                          - userrate
                          - isupcoming
                          - isrelatedbookupcoming
                          - libstatus
                        properties:
                          authors:
                            type: array
                            description: The book author or authors. All API versions.
                            items: {}
                          dateModified:
                            type: string
                            example: '02-10-2016 15:32:26 +0100'
                            description: The date when a book was last added to My List or inactivation (another way to add a book to My List). Used for sorting purposes. The book with the most recent modification date goes first. All API versions.
                          genres:
                            type: array
                            description: An array of bookgroup IDs (genres in particular). All API versions.
                            items: {}
                          descriptionBrief:
                            type: string
                            example: Some description...
                            description: AA brief description of the book. Might be a truncated book description from a book card screen. All API versions.
                          id:
                            type: string
                            example: '1026126'
                            description: The identifier for the book itself. All API versions.
                          imageUrl:
                            type: string
                            example: 'https://www.nextory.se/coverimg/130/1026126.jpg'
                            description: Valid image URL. Applies only to the "Promotion" bookgroup type. The image does not need to support resizing on the server. API v6.3 and higher.
                          weburl:
                            type: string
                            example: 'https://nextory.se/bok/jakten-pa-tam-jo-salmson/1007145'
                            description: Bookdetails link for Nextory web. All API versions.
                          libId:
                            type: string
                            example: '168190'
                            description: 'The book identifier in the account holder’s library. Used in the activation process. Different from “id” and specific to each profile. When the book is not in my list or active, then we assume that “libId” is zero. All API versions.'
                          allowedinlibrary:
                            type: boolean
                            example: false
                            description: 'A boolean value ("1" or "0") that indicates if the book is available to the account holder’s current subscription. “1” (true) = is available, “0” (false) = is not available. The value should always = “1” for active books because an active book cannot be ‘not allowed’ in an account holder’s library. All API versions.'
                          relatedbookallowedinlibrary:
                            type: boolean
                            example: true
                            description: 'A boolean value ("1" or "0") that indicates if the related book is available to the account holder’s current subscription. “1” (true) = is available, “0” (false) = is not available. Required in case of non-empty “relatedbookid”. All API versions.'
                          pubDate:
                            type: string
                            example: '02-10-2016 15:32:26 +0100'
                            description: The book publication date. The date format might be different but must be consistent across the entire API. Used to sort books locally by date. All API versions.
                          relatedBookId:
                            type: string
                            example: '1007146'
                            description: 'Indicates if the e-book has a related audiobook or vice versa. Contains an identifier for the related book. If missing, then the book does not have a related book. All API versions.'
                          synchsettings:
                            type: object
                            required:
                              - completed
                              - syncdate
                            properties:
                              completed:
                                type: string
                                example: '0'
                                description: 'The read status of the book. Values are “0” and “1”. "0" = the book has not been completed (is in progress), "1" = the book has been completed. It is not necessary for “currentpercentage” to = “1” since the account holder can just indicate that a book is completed. All API versions.'
                              currentPercentage:
                                type: string
                                example: '0.75'
                                description: 'The current read position. A value between “0” and “1”. If missing, it means that a book is unread/not listened to (in other words, is equal to zero). All API versions.'
                              syncdate:
                                type: string
                                example: '02-15-2016 13:42:25 +0100'
                                description: The timestamp when the app last sent the account holder settings to the backend.
                          title:
                            type: string
                            description: The book title. This value is also used to sort books locally by title. All API versions.
                            example: Nya hyss av Emil i Lönneberga
                          type:
                            type: string
                            example: '1'
                            description: 'Enum value that defines the content type of a book. "1" e-books only, "2" audio book only. All API versions.'
                            enum:
                              - '1'
                              - '2'
                          avgrate:
                            type: number
                            example: 4.8018281535649
                            description: The average book account holder rating given. API v6.3 and higher.
                          numberofrates:
                            type: integer
                            example: 10
                            description: The total number of account holder ratings given to the book. “0” = there are no ratings yet. API v6.3 and higher.
                          userrate:
                            type: number
                            example: 5
                            description: 'The book rating given by the account holder. Values are "0.0", "0.5", "1.0", "1.5", "2.0", "2.5", "3.0", "3.5", "4.0", "4.5", "5.0". A value of 0.0 means that the account holder has not rated the book. API v5.6 and higher.'
                            enum:
                              - 0
                              - 0.5
                              - 1
                              - 1.5
                              - 2
                              - 2.5
                              - 3
                              - 3.5
                              - 4
                              - 4.5
                              - 5
                          isupcoming:
                            type: boolean
                            example: true
                            description: 'A boolean value ("1" or "0") that indicates if the book is upcoming or not. “1” (true) = is upcoming, “0” (false) = is not upcoming. API v6.9 and higher.'
                          isrelatedbookupcoming:
                            type: boolean
                            example: false
                            description: 'A boolean value ("1" or "0") that indicates if the related book is upcoming or not. “1” (true) = is upcoming, “0” (false) = is not upcoming. API v6.9 and higher.'
                          libstatus:
                            type: string
                            example: INACTIVE
                            description: 'Indicates the possible status of the book in the account holder’s library. Values are “NOTINLIB”, “ACTIVE”, “INACTIVE” and “COMPLETED”. API v7.1 and higher.'
                            enum:
                              - ACTIVE
                              - COMPLETED
                              - INACTIVE
                              - NOTINLIB
                          referralcampurl:
                            type: string
                            example: 'https://www.nextory.se/kampanj/recommend?utm_medium=MtqI/VZ0SeiJ/trwTaZ7Tg==&utm_campaign=recommend&utm_content=1026126'
                            description: Referral campaign URL. Optional from API v7.1.
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      bookCount: '1'
                      timestamp: '2016-05-04 14:05:17'
                      books:
                        authors:
                          - Astrid Lindgren
                          - Astrid Lindgren II
                        dateModified: '02-10-2016 15:32:26 +0100'
                        genres:
                          - tttl_Deckare
                          - tttl_Romance
                        descriptionBrief: Some description...
                        id: '1026126'
                        imageUrl: 'https://www.nextory.se/coverimg/130/1026126.jpg'
                        weburl: 'https://nextory.se/bok/jakten-pa-tam-jo-salmson/1007145'
                        libId: '168190'
                        allowedinlibrary: false
                        relatedbookallowedinlibrary: false
                        pubDate: '02-10-2016 15:32:26 +0100'
                        relatedBookId: '1007146'
                        synchsettings:
                          completed: '0'
                          currentPercentage: '0.75'
                          syncdate: '02-15-2016 13:42:25 +0100'
                        title: Nya hyss av Emil i Lönneberga
                        type: '1'
                        avgrate: 4.8018281535649
                        numberofrates: 10
                        userrate: 5
                        isupcoming: true
                        isrelatedbookupcoming: true
                        libstatus: INACTIVE
                        referralcampurl: 'https://www.nextory.se/kampanj/recommend?utm_medium=MtqI/VZ0SeiJ/trwTaZ7Tg==&utm_campaign=recommend&utm_content=1026126'
  /library/synchsettings:
    get:
      summary: Synchronization settings
      operationId: NX-0071
      description: |-
        **Description:** Gets the current position of, and settings for books.

        **Parameters:** Mandatory header parameters plus two query parameters.

        **Example Request URL:** [https://www.nextory.se/api/4.2/library/synchsettings?appId=201&version=1.1&model=Simulator64&token=82b5c6a2-fe4a-406d-ba20-0f40a9468c65&libID=12345](https://www.nextory.se/api/4.2/library/synchsettings?appId=201&version=1.1&model=Simulator64&token=82b5c6a2-fe4a-406d-ba20-0f40a9468c65&libID=12345)
      tags:
        - Books and bookgroups
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: '12345'
          in: query
          name: libID
          description: 'The book identifier in the account holder’s library. Used in the activation process. Different from id and specific to each profile. When the book is not in my list or active, then we assume that "libID" is zero. All API versions.'
          required: true
        - schema:
            type: string
            example: '303'
          in: query
          name: formatid
          description: 'The format of the audio book MP3 resource file. Values are “303” and “304”. “303” = mp3, “304” = hls. All API versions.'
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - bookCount
                      - books
                    properties:
                      bookCount:
                        type: string
                        example: '1'
                        description: The total number of books in the bookgroup. Required in case of the /searchbooks (NX-013) endpoint response. All API versions.
                      books:
                        type: array
                        uniqueItems: true
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              example: '1026126'
                              description: The identifier for the book itself. All API versions.
                            type:
                              type: string
                              example: '1'
                              description: 'An enum value that defines the content type of a book. "1" = e-books only, "2" = audio books only. All API versions.'
                            authors:
                              type: array
                              description: The book author or authors. All API versions.
                              items: {}
                            dateModified:
                              type: string
                              example: '02-10-2016 15:32:26 +0100'
                              description: The date when a book was last added to my list or inactivation (another way to add a book to my list). Used for sorting purposes. The book with the most recent modification date goes first. All API versions.
                            descriptionBrief:
                              type: string
                              example: Some description...
                              description: A brief description of the book. Might be a truncated book description from a book card screen. All API versions.
                            file:
                              type: object
                              description: Available if MP3 exists.
                              properties:
                                url:
                                  type: string
                                  example: 'https://apptest.nextory.se:82/nest/api/ver2/product/download?data=eyJsaWJpZCI6IjYwOTA2MDEiLCJmb3JtYXRpZCI6IjMwMyIsInByb2R1Y3RpZCI6IjEwMjQ3NjYyIiwib3JkZXJpZCI6Ijg3ODYyMDUiLCJhcHBpZCI6IjE1MDgyNCIsImNoZWNrc3VtIjoiYzkwMTM2OTViYThmMTA5NjYzZjg1Y2ZkZWY2ZDdhZDQifQ=='
                                  description: The URL to download the audio book MP3 file. All API versions.
                                formatid:
                                  type: number
                                  example: 303
                                  description: 'The format of the audio book MP3 resource file. Values are “303” and “304”. “303” = mp3, “304” = hls. All API versions.'
                                duration:
                                  type: string
                                  example: '23805'
                                  description: The MP3 audio book duration in seconds. Required for audio books only. All API versions.
                                sizeinbytes:
                                  type: number
                                  example: 142710929
                                  description: The size of the MP3 file in bytes. All API versions.
                                checksum:
                                  type: string
                                  example: CXNVa0kBN5rb0Ucr1HBeDA==
                                  description: The MP3 audio book file checksum. All API versions.
                              required:
                                - url
                                - formatid
                                - duration
                                - sizeinbytes
                                - checksum
                            streamingfile:
                              type: object
                              description: 'A new optional attribute, “streamingfile” has a format that supports audio streaming file formats. The existing field “file” will be available if MP3 exists. This field format is available only for audio books. In case of audio, “formatid” = “304” (hls). API v7.0 and higher.'
                              properties:
                                url:
                                  type: string
                                  example: 'https://apptest.nextory.se:82/nest/api/ver2/product/download?data=eyJsaWJpZCI6IjYwOTA2MDEiLCJmb3JtYXRpZCI6IjMwMyIsInByb2R1Y3RpZCI6IjEwMjQ3NjYyIiwib3JkZXJpZCI6Ijg3ODYyMDUiLCJhcHBpZCI6IjE1MDgyNCIsImNoZWNrc3VtIjoiYzkwMTM2OTViYThmMTA5NjYzZjg1Y2ZkZWY2ZDdhZDQifQ==&hls=1'
                                  description: The URL of the streamed audio book. API v7.0 and higher.
                                formatid:
                                  type: number
                                  example: 304
                                  description: 'The format of the streamed audio book MP3 resource file. Values are “303” and “304”. “303” = mp3, “304” = hls. All API versions.'
                                duration:
                                  type: string
                                  example: '23805'
                                  description: The streamed audio book duration in seconds. Required for audio books only. API 7.0 and higher.
                                sizeinbytes:
                                  type: number
                                  example: 122710929
                                  description: The size of the streamed audio book file in bytes. API v7.0 and higher.
                                checksum:
                                  type: string
                                  example: CXNVa0kBN5rssss0Ucr1HBeDA==
                                  description: The streamed audio book file checksum. API v7.0 and higher.
                              required:
                                - url
                                - formatid
                                - duration
                                - sizeinbytes
                                - checksum
                            imageUrl:
                              type: string
                              example: 'https://www.nextory.se/coverimg/130/1026126.jpg'
                              description: Valid image URL. Applies only to the "Promotion" bookgroup type. The image does not need to support resizing on the server. API v6.3 and higher.
                            weburl:
                              type: string
                              example: 'https://nextory/bok/jakten-pa-tam-jo-salmson/1026126'
                              description: Bookdetails link for Nextory web. All API versions.
                            libId:
                              type: string
                              example: '168190'
                              description: 'The book identifier in the account holder’s library. Used in the activation process. Different from id and specific to each profile. When the book is not in my list or active, then we assume that libId is zero. All API versions.'''
                            allowedinlibrary:
                              type: boolean
                              example: true
                              description: 'A boolean value ("1" or "0") that indicates if the book is available to the account holder’s current subscription. “1” (true) = is available, “0” (false) = is not available. The value should always = “1” for active books because an active book cannot be ‘not allowed’ in an account holder’s library. All API versions.'
                            relatedbookallowedinlibrary:
                              type: boolean
                              example: false
                              description: 'A boolean value ("1" or "0") that indicates if the related book is available to the account holder’s current subscription. “1” (true) = is available, “0” (false) = is not available. Required in case of non-empty “relatedbookid”. All API versions.'
                            pubDate:
                              type: string
                              example: '02-10-2016 15:32:26 +0100'
                              description: The book publication date. The date format might be different but must be consistent across the entire API. Used to sort books locally by date. All API versions.
                            relatedBookId:
                              type: string
                              example: '1007146'
                              description: 'Indicates if the e-book has a related audiobook or vice versa. Contains an identifier for the related book. If missing, then the book does not have a related book. All API versions.'
                            synchsettings:
                              type: object
                              properties:
                                completed:
                                  type: string
                                  example: '0'
                                  description: 'The read status of the book. Values are “0” and “1”. "0" = the book has not been completed (is in progress), "1" = the book has been completed. It is not necessary for “currentpercentage” to = “1” since the account holder can just indicate that a book is completed. All API versions.'
                                currentPercentage:
                                  type: string
                                  example: '0.75'
                                  description: 'The current read position. A value between “0” and “1”. If missing, it means that a book is unread/not listened to (in other words, is equal to zero). All API versions.'
                                position:
                                  type: number
                                  example: 0.7432
                                  description: 'A value, which is different depending on the book format (ePub, PDF, audio book). If ePub, the value is almost the same as currentPercentage (but sometimes not exactly the same – probably because of SkyePub). If PDF, the value is integer (the exact PDF page number). If audio book, the value is the current playback time in milliseconds. All API versions.'
                                cfi:
                                  type: string
                                  example: '4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                                  description: The value used for Cloudshelf reader sync. All API versions.
                                idref:
                                  type: string
                                  example: epub_Hatadochalskad-7
                                  description: The value used for Cloudshelf reader sync. All API versions.
                                syncdate:
                                  type: string
                                  example: '02-15-2016 13:42:25 +0100'
                                  description: The timestamp when the app last sent the account holder settings to the backend.
                                usageblockslimit:
                                  type: number
                                  example: 10
                                  description: The number of usage blocks to be POSTed in one go. All API versions.
                              required:
                                - completed
                                - currentPercentage
                                - position
                                - cfi
                                - idref
                                - syncdate
                                - usageblockslimit
                            title:
                              type: string
                              example: Nya hyss av Emil i Lönneberga
                              description: The book title. This value is also used to sort books locally by title. All API versions.
                            avgrate:
                              type: number
                              example: 4.8018281535649
                              description: The average book rating given by account holders. API v6.3 and higher.
                            numberofrates:
                              type: integer
                              example: 10
                              description: The total number of account holder ratings given to the book. “0” = there are no ratings yet. API v6.3 and higher.
                            account holderrate:
                              type: number
                              example: 5
                              description: 'The book rating given by the account holder. Values are "0.0", "0.5", "1.0", "1.5", "2.0", "2.5", "3.0", "3.5", "4.0", "4.5", "5.0". A value of 0.0 means that the account holder has not rated the book. API v5.6 and higher.'
                              enum:
                                - 0
                                - 0.5
                                - 1
                                - 1.5
                                - 2
                                - 2.5
                                - 3
                                - 3.5
                                - 4
                                - 4.5
                                - 5
                            isupcoming:
                              type: boolean
                              example: true
                              description: 'A boolean value ("1" or "0") that indicates if the book is upcoming or not. “1” (true) = is upcoming, “0” (false) = is not upcoming. API v6.9 and higher.'
                            isrelatedbookupcoming:
                              type: boolean
                              example: false
                              description: 'A boolean value ("1" or "0") that indicates if the related book is upcoming or not. “1” (true) = is upcoming, “0” (false) = is not upcoming. API v6.9 and higher.'
                          required:
                            - id
                            - type
                            - authors
                            - dateModified
                            - descriptionBrief
                            - imageUrl
                            - weburl
                            - libId
                            - allowedinlibrary
                            - relatedbookallowedinlibrary
                            - pubDate
                            - relatedBookId
                            - title
                            - avgrate
                            - numberofrates
                            - userrate
                            - isupcoming
                            - isrelatedbookupcoming
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      bookCount: '1'
                      books:
                        - id: '1026126'
                          type: '1'
                          authors:
                            - Astrid Lindgren
                            - Astrid Lindgren II
                          dateModified: '02-10-2016 15:32:26 +0100'
                          descriptionBrief: Some description...
                          file:
                            url: 'https://apptest.nextory.se:82/nest/api/ver2/product/download?data=eyJsaWJpZCI6IjYwOTA2MDEiLCJmb3JtYXRpZCI6IjMwMyIsInByb2R1Y3RpZCI6IjEwMjQ3NjYyIiwib3JkZXJpZCI6Ijg3ODYyMDUiLCJhcHBpZCI6IjE1MDgyNCIsImNoZWNrc3VtIjoiYzkwMTM2OTViYThmMTA5NjYzZjg1Y2ZkZWY2ZDdhZDQifQ=='
                            formatid: 303
                            duration: '23805'
                            sizeinbytes: 142710929
                            checksum: CXNVa0kBN5rb0Ucr1HBeDA==
                          streamingfile:
                            url: 'https://apptest.nextory.se:82/nest/api/ver2/product/download?data=eyJsaWJpZCI6IjYwOTA2MDEiLCJmb3JtYXRpZCI6IjMwMyIsInByb2R1Y3RpZCI6IjEwMjQ3NjYyIiwib3JkZXJpZCI6Ijg3ODYyMDUiLCJhcHBpZCI6IjE1MDgyNCIsImNoZWNrc3VtIjoiYzkwMTM2OTViYThmMTA5NjYzZjg1Y2ZkZWY2ZDdhZDQifQ==&hls=1'
                            formatid: 304
                            duration: '23805'
                            sizeinbytes: 122710929
                            checksum: CXNVa0kBN5rssss0Ucr1HBeDA==
                          imageUrl: 'https://www.nextory.se/coverimg/130/1026126.jpg'
                          weburl: 'https://nextory/bok/jakten-pa-tam-jo-salmson/1026126'
                          libId: '168190'
                          allowedinlibrary: true
                          relatedbookallowedinlibrary: false
                          pubDate: '02-10-2016 15:32:26 +0100'
                          relatedBookId: '1007146'
                          synchsettings:
                            completed: '0'
                            currentPercentage: '0.75'
                            position: 0.7432
                            cfi: '4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                            idref: epub_Hatadochalskad-7
                            syncdate: '02-15-2016 13:42:25 +0100'
                            usageblockslimit: 10
                          title: Nya hyss av Emil i Lönneberga
                          avgrate: 4.8018281535649
                          numberofrates: 10
                          userrate: 5
                          isupcoming: true
                          isrelatedbookupcoming: false
  /library-sync:
    get:
      summary: Sync library
      operationId: NX-020
      description: |-
        **Description:** This API call is used as GET to update the currentpercentage (current read position) of a book in a library.

        **Parameters:** Mandatory header parameters plus some query parameters.

        **Example Request URL:** [www.nextory.se/api/4.2/library-sync?libid=152045&formatid=11&percentage=0.1667&currentpercentage=0.166667&syncdate=02-24-2016+14%3A09%3A27+%2B0000&position=4](www.nextory.se/api/4.2/library-sync?libid=152045&formatid=11&percentage=0.1667&currentpercentage=0.166667&syncdate=02-24-2016+14%3A09%3A27+%2B0000&position=4)
      tags:
        - Books and bookgroups
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: '94198'
          in: query
          name: libid
          description: The book identifier in the account holder’s library. Different from id and specific to each account holder. All API versions.
          required: true
        - schema:
            type: string
            example: '0.035714'
          in: query
          name: currentpercentage
          description: 'Current read position. A value between “0” and “1”. If missing, it means that the book is unread/not listened to (in other words, is equal to zero). All API versions.'
          required: true
        - schema:
            type: string
            example: '22'
          in: query
          name: formatid
          description: 'The format of the audio book MP3 resource file. Values are “303” and “304”. “303” = mp3, “304” = hls. All API versions.'
          required: true
        - schema:
            type: string
            example: '123.76'
          in: query
          name: position
          description: 'The position within an audio book, in seconds. All API versions.'
          required: false
        - schema:
            type: string
            example: '1464700109784'
          in: query
          name: syncdate
          description: The timestamp when the app last sent the account holder settings to the backend. All API versions.
          required: true
        - schema:
            type: string
            example: '0.45'
          in: query
          name: percentage
          description: The download progress as a percentage. Required only if “status” = “FAILED”. All API versions.
          required: true
        - schema:
            type: string
            example: '/4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
          in: query
          name: cfi
          description: The value used for Cloudshelf reader sync. All API versions.
          required: true
        - schema:
            type: string
            example: epub_Hatadochalskad-7
          in: query
          name: idref
          description: The value used for Cloudshelf reader sync. All API versions.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    properties: {}
                required:
                  - data
              examples:
                Example:
                  value:
                    data: {}
    post:
      summary: Sync library
      operationId: NX-0201
      description: |-
        **Description:** Updates bookmarks, highlights and book settings.

        **Parameters:** Mandatory header parameters plus some query parameters.

        **Example Request URL:** [http://130.211.74.42/api/5.0/library-sync](http://130.211.74.42/api/5.0/library-sync)

        **Responses:** All data except the "percentage" and "currentpercentage" values are application dependent and are handled by the application. This means that whatever the data setting on the app side, from v5.0 this should be backward-compatible to older versions like 4.1.2, 4.2 etc. A few values are sent as integers. This is because the old app XML request was parsed that way. We need to change this because it is not good practice. We will continue to use 0 and 1 for boolean values and will migrate the data in the future.

        **Proper SynchSettings and Data Validation Rules:** See supporting docs for the validation rules for data sent to the server.
      tags:
        - Library sync
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                formatid:
                  type: string
                  example: '303'
                  description: 'The format of the book resource file. Values are “303” and “304”. “303” = mp3, “304” = hls. All API versions.'
                libid:
                  type: string
                  example: '157636'
                  description: 'The book identifier in the account holder’s library. Used in the activation process. Different from id and specific to each profile. When the book is not in my list or active, then we assume that "libid" is zero.'
                usagetime:
                  type: number
                  example: 9.057117998600006
                  description: The time in seconds spent reading/listening to the book (only one registered time event is sent to the server).
                usageblocks:
                  type: array
                  uniqueItems: true
                  description: Stores user activity stats.
                  items:
                    type: object
                    properties:
                      starttimestamp:
                        type: number
                        example: 1545926100
                        description: The timestamp when the block started.
                      endtimestamp:
                        type: number
                        example: 1545926760
                        description: The timestamp when the block ended.
                      timespent:
                        type: number
                        example: 660
                        description: The time spent (the difference between "starttimestamp" and "endtimestamp".
                      startposition:
                        type: number
                        example: 23
                        description: The position when the block started. Measured in seconds for audiobooks and virtual pages for ePubs and PDFs.
                      endposition:
                        type: number
                        example: 25
                        description: The position when the block ended. Measured in seconds for audiobooks and virtual pages for ePubs and PDFs.
                      playbackspeed:
                        type: number
                        example: 1.5
                        description: The playback speed of an audiobook.
                      startpercentage:
                        type: number
                        example: 0.2324
                        description: The percentage position at the start of the block.
                      endpercentage:
                        type: number
                        example: 0.2456
                        description: The percentage position at the end of the block.
                      source:
                        type: string
                        example: streaming
                        description: The source from where the media is served. Values are “disk” and “streaming”.
                        enum:
                          - disk
                          - streaming
                      playmode:
                        type: string
                        example: online
                        description: The mode in which the playback happened. Values are "offline" and "online".
                        enum:
                          - offline
                          - online
                      buffertime:
                        type: number
                        example: 1000
                        description: The buffer time in milliseconds.
                currentpercentage:
                  type: string
                  example: '0.1556'
                  description: 'Current read position. A value between "0" and "1". If missing, it means that the book is unread/not listened to (in other words, is equal to zero).'
                percentage:
                  type: string
                  example: '0.1556'
                  description: The highest percentage read/listen for the book. "currentpercentage" and "percentage" can be the same value but "currentpercentage" should never be higher than "percentage".
                position:
                  type: string
                  example: '0.2345'
                  description: Stored in the database and used to resume the reading position from the last-read page. The value is app-dependent and is used for the SkyEpub reader-to-Cloudshelf reader data conversion.
                cfi:
                  type: string
                  example: '/4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                  description: The value used for Cloudshelf reader sync.
                idref:
                  type: string
                  example: epub_Hatadochalskad-7
                  description: The value used for Cloudshelf reader sync.
                syncdate:
                  type: string
                  example: '2016-05-06 20:18:24 +0200'
                  description: 'The date and time (in unified date format) that defines when book metadata was modified. For example, a bookmark was added/removed or a highlight was added/removed/edited. Handled on the server side.'
                syncdateforhighlights:
                  type: string
                  example: '2016-05-06 21:56:16 +0200'
                  description: The latest date when highlights were modified. The server simply stores the information and sends it back.
                syncdateforbookmarks:
                  type: string
                  example: '2016-05-06 06:30:24 +0200'
                  description: The latest date when bookmarks were modified. The server simply stores the information and sends it back.
                setting:
                  type: object
                  description: A set of optional parameters to store information about the book. All the properties of this object are app-dependent and are stored by the server.
                  required:
                    - margin
                    - justified
                    - readerversion
                  properties:
                    fontsize:
                      type: string
                      example: '2'
                      description: The book's font size. Note that the old app sends this value as an integer. For backwards compatibility we may need to do the same.
                    theme:
                      type: string
                      example: '0'
                      description: The book's theme. Note that the old app sends this value as an integer. For backwards compatibility we may need to do the same.
                    doublepaged:
                      type: boolean
                      example: false
                      description: A boolean value ("1" or "0") that indicates the book's page layout. "1" (true) = the book is double-paged. "0" (false) = the book is not double-paged. Note that the old app sends this value as an integer. For backwards compatibility we may need to do the same.
                    margin:
                      type: string
                      example: '0.2'
                      description: 0.2 = double. This is a Cloudshelf reader setting.
                    justified:
                      type: boolean
                      example: false
                      description: 'A boolean value ("1" or "0") that indicates if the book’s text is justified. “1” (true) = text is justified, “0” (false) = text is not justified.'
                    readerversion:
                      type: string
                      example: This is a Cloudshelf reader setting.
                playersetting:
                  type: object
                  properties:
                    playbackspeed:
                      type: string
                      example: '1.0'
                      description: The audio player playback speed.
                highlights:
                  type: array
                  description: A set of optional parameters. Highlights can contain multiple sets of highlights data. All the properties of this object are app-dependent and are stored by the server.
                  uniqueItems: true
                  items:
                    type: object
                    properties:
                      note:
                        type: string
                        example: Stöpa notifikationer
                        description: The user-written comment against the highlight they have made.
                      pagepositioninbook:
                        type: string
                        example: '0.0'
                        description: The relative position of the highlight in the book.
                      pagepositioninchapter:
                        type: string
                        example: '0.0'
                        description: The relative position of the highlight in the chapter.
                      text:
                        type: string
                        example: Justera inställningarna på din
                        description: The string text of the highlight from the book itself.
                      cfi:
                        type: string
                        example: '/4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                        description: This value is used for Cloudshelf reader sync.
                      idref:
                        type: string
                        example: epub_Hatadochalskad-7
                        description: This value is used for Cloudshelf reader sync.
                      datetime:
                        type: string
                        example: '02-01-2016 16:45:22 +0000'
                        description: When the highlight was last updated.
                      title:
                        type: string
                        example: highlight 1
                        description: A title given to the highlight.
                    required:
                      - cfi
                      - idref
                bookmarks:
                  type: array
                  description: A set of optional parameters. Bookmarks can contain multiple sets of bookmarks data. All the properties of this object are app-dependent and are stored by the server.
                  uniqueItems: true
                  items:
                    type: object
                    properties:
                      pagepositioninbook:
                        type: string
                        example: '0.175545'
                        description: The relative position of the bookmark in the book.
                      datetime:
                        type: string
                        example: '2016-05-06 04:20:45 +0200'
                        description: The date when the bookmark was last updated.
                      code:
                        type: string
                        example: '751'
                        description: The bookmark identifier.
                      title:
                        type: string
                        example: Den digitala drogen - Konsten att hantera din teknik
                        description: The title of the bookmark.
                      pagepositioninchapter:
                        type: string
                        example: '0.357143'
                        description: The relative position of the bookmark in the chapter. Required for an older reader but still used.
                      bookname:
                        type: string
                        example: The Blind Blond with Candles in Her Hair
                        description: The title of the book for this bookmark.
                      chaptername:
                        type: string
                        example: Uncle Bjorn and the Saint of Light
                        description: The chapter in which this bookmark is located. Not currently used.
                      contentheight:
                        type: string
                        example: '1'
                        description: Required for an early reader. Not currently used.
                      type:
                        type: string
                        example: '0'
                        description: 'The type of bookmark. Values are “0”, “2” and “3”. “0” = epub reader, “2” = audio player, “3” = PDF reader.'
                      cfi:
                        type: string
                        example: '4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                        description: This value is used for Cloudshelf reader sync.
                      idref:
                        type: string
                        example: epub_Hatadochalskad-7
                        description: This value is used for Cloudshelf reader sync.
                    required:
                      - cfi
                      - idref
              required:
                - formatid
                - libid
                - currentpercentage
                - percentage
                - position
                - cfi
                - idref
                - syncdate
            examples:
              Example:
                value:
                  formatid: '303'
                  libid: '157636'
                  usagetime: 9.057117998600006
                  usageblocks:
                    - starttimestamp: 1545926100
                      endtimestamp: 1545926760
                      timespent: 660
                      startposition: 23
                      endposition: 25
                      playbackspeed: 1
                      startpercentage: 0.2324
                      endpercentage: 0.2456
                      source: streaming
                      playmode: online
                      buffertime: 1000
                  currentpercentage: '0.1556'
                  percentage: '0.1556'
                  position: '0.1234'
                  cfi: '/4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                  idref: epub_Hatadochalskad-7
                  syncdate: '2016-05-06 20:18:24 +0200'
                  syncdateforhighlights: '2016-05-06 21:56:16 +0200'
                  syncdateforbookmarks: '2016-05-06 06:30:24 +0200'
                  setting:
                    fontsize: '2'
                    theme: '0'
                    doublepaged: false
                    margin: '0.2'
                    justified: false
                    readerversion: '1'
                  playersetting:
                    playbackspeed: '1.0'
                  highlights:
                    - note: Stöpa notifikationer
                      pagepositioninbook: '0.0'
                      pagepositioninchapter: '0.0'
                      text: Justera inställningarna på din
                      cfi: '/4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                      idref: epub_Hatadochalskad-7
                      datetime: '02-01-2016 16:45:22 +0000'
                      title: highlight 1
                    - note: '???? ????? ?? ????'
                      pagepositioninbook: '0.0'
                      pagepositioninchapter: '0.0'
                      text: dokusåpa
                      cfi: '/4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                      idref: epub_Hatadochalskad-7
                      datetime: '02-01-2016 16:45:22 +0000'
                      title: highlight 2
                  bookmarks:
                    - pagepositioninbook: '0.175545'
                      datetime: '2016-05-06 04:20:45 +0200'
                      code: '751'
                      title: 'Den digitala drogen : Konsten att hantera din teknik'
                      pagepositioninchapter: '0.357143'
                      bookname: optional
                      chaptername: optional
                      contentheight: optional
                      type: '0'
                      cfi: '/4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                      idref: epub_Hatadochalskad-7
                    - pagepositioninbook: '0.319209'
                      datetime: '2016-05-06 19:58:30 +0200'
                      code: '752'
                      title: 'Den digitala drogen : Konsten att hantera din teknik'
                      pagepositioninchapter: '0.833333'
                      bookname: optional
                      chaptername: optional
                      contentheight: optional
                      type: '0'
                      cfi: '/4[epub_Hatadochalskad]/2/32,/1:0,/1:94'
                      idref: epub_Hatadochalskad-7
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    properties: {}
                required:
                  - data
              examples:
                Example:
                  value:
                    data: {}
  /listComments:
    get:
      summary: List book reviews
      operationId: NX-31
      description: |
        **Description:** Gets a list of reviews for a book.

        **Parameters:** Mandatory header parameters plus some query parameters.

        **Example Request URL:** [https://apptest.nextory.se:92//api/app/product/{api_version}/listComments?&bookid=1023456&pagenumber=0&pagesize=12](https://apptest.nextory.se:92//api/app/product/{api_version}/listComments?&bookid=1023456&pagenumber=0&pagesize=12)

        **Example Error Response:**
        ````
        {
        "error": {
        "code": 1000
        "msg": "Fel har uppstått kontakta kundtjänst",
        }
        }
      tags:
        - Books and bookgroups
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: '1023456'
          in: query
          name: bookid
          description: Book identifier. Can either be a comma-separated list of book IDs or a single book ID for which comments and reviews need to be pulled. All API versions.
          required: true
        - schema:
            type: string
            example: '0'
          in: query
          name: pagenumber
          description: Page number for lazy load (pagination). Default value = “0”. All API versions.
          required: true
        - schema:
            type: string
            example: '12'
          in: query
          name: pagesize
          description: The number of comments or reviews to be displayed on a single page. Default value = “12”. All API versions.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      owncomments:
                        type: object
                        required:
                          - isowner
                          - commentid
                          - rating
                          - reviews
                          - upvotes
                          - downvotes
                          - tags
                          - ishelpful
                          - position
                          - createdon
                          - profilename
                          - profileimage
                          - bio
                          - status
                        properties:
                          isowner:
                            type: boolean
                            example: true
                            description: 'A boolean value ("1" or "0") that indicates if this comment was left by the account holder. true = the comment was left by the account holder, false the comment was not left by the account holder.'
                          commentid:
                            type: string
                            example: 60f01752db1586000142456d
                            description: The ID of the comment that the profile is interacting with.
                          rating:
                            type: number
                            example: 4
                            description: The rating given to the book by the person who wrote the review.
                          reviews:
                            type: string
                            example: I like it.
                            description: The review given to the book by the profile. Any random string data.
                          upvotes:
                            type: number
                            example: 0
                            description: The number of thumbs-up votes given to a comment or review.
                          downvotes:
                            type: number
                            example: 0
                            description: The number of thumbs-down votes given to a comment or review.
                          tags:
                            type: array
                            items:
                              type: object
                            deprecated: true
                          ishelpful:
                            type: number
                            example: 0
                            description: '"1" = the logged-in profile liked a comment left by another user. "2" = the logged-in profile unliked a comment left by another user that a different profile under their account had previously liked. Required only if an account holder uses the like/unlike functionality, otherwise optional. All API versions. Not currently used.'
                          position:
                            type: number
                            example: 1
                            description: The position of this review in the list of reviews for the book.
                          createdon:
                            type: string
                            example: '2021-07-15 13:09:06 +0200'
                            description: The date and time when the comment or review was left.
                          profilename:
                            type: string
                            example: Rafal 007 police manga super
                            description: The profile name of the profile that wrote the comment.
                          profileimage:
                            type: string
                            example: 'https://storage.googleapis.com/nex-profiles/profile-image/1549111D78317BE457235798DE15EA88/1590139107424.JPG'
                            description: The image object uploaded against the profile that wrote the comment.
                          bio:
                            type: string
                            example: My name is Rafal. I like to read.
                            description: The profile's bio.
                          status:
                            type: string
                            example: ACTIVE
                            description: If the review is visible to the public or not. Values are "ACTIVE" and "INACTIVE". Will allways be “ACTIVE” for all reviews except for the profile’s own which they will see regardless of its status.
                            enum:
                              - ACTIVE
                              - INACTIVE
                      otherscomments:
                        type: array
                        uniqueItems: true
                        items:
                          type: object
                          properties:
                            isowner:
                              type: boolean
                              example: false
                              description: 'A boolean value ("1" or "0") that indicates if this comment was left by the account holder. “1” (true) = the comment was left by the account holder, “0” (false) = the comment was not left by the account holder.'
                            commentid:
                              type: string
                              example: 5fc4baeb51896300019f6e95
                              description: The ID of the comment that the profile is interacting with.
                            rating:
                              type: number
                              example: 0
                              description: The rating given to the book by the person who wrote the review.
                            reviews:
                              type: string
                              example: 'Fin,öppenhjärtlig berättelse!'
                              description: The review given to the book by the profile. Any random string data.
                            upvotes:
                              type: number
                              example: 0
                              description: The number of thumbs-up votes given to a comment or review.
                            downvotes:
                              type: number
                              example: 0
                              description: The number of thumbs-down votes given to a comment or review.
                            tags:
                              type: array
                              items:
                                type: object
                              deprecated: true
                            ishelpful:
                              type: number
                              example: 0
                              description: 'Values are “1” and “2”. “1” = the logged-in profile liked a comment left by another user. "2" = the logged-in profile unliked a comment left by another user that a different profile under their account had previously liked. Required only if an account holder uses the like/unlike functionality, otherwise optional. All API versions. Not currently used.'
                            status:
                              type: string
                              example: ACTIVE
                              description: If the review is visible to the public or not. Values are "ACTIVE" and "INACTIVE". Will allways be “ACTIVE” for all reviews except for the profile’s own which they will see regardless of its status.
                              enum:
                                - ACTIVE
                                - INACTIVE
                            position:
                              type: number
                              example: 0
                              description: The position of this review in the list of reviews for the book.
                            createdon:
                              type: string
                              example: '2020-11-30 10:27:07 +0100'
                              description: The date and time when the comment or review was left.
                            profilename:
                              type: string
                              example: Barbara Särlöv
                              description: The profile name of the profile that wrote the comment.
                            profileimage:
                              type: string
                              example: 'https://storage.googleapis.com/nex-profiles/profile-image/E2E5E1E04A5A7572BC214CF363421C6A/1603017630665.JPG'
                              description: The image object uploaded against the profile that wrote the comment.
                            bio:
                              type: string
                              example: My name is Barbara. I like books.
                              description: The profile's bio.
                          required:
                            - isowner
                            - commentid
                            - rating
                            - reviews
                            - upvotes
                            - downvotes
                            - ishelpful
                            - status
                            - position
                            - createdon
                            - profilename
                            - profileimage
                required:
                  - data
              examples:
                Example (Inside-Out Book):
                  value:
                    data:
                      owncomments:
                        isowner: true
                        commentid: 60f01752db1586000142456d
                        rating: 4
                        reviews: I like it.
                        upvotes: 0
                        downvotes: 0
                        tags: []
                        ishelpful: 0
                        position: 1
                        createdon: '2021-07-15 13:09:06 +0200'
                        profilename: Rafal 007 police manga super
                        profileimage: 'https://storage.googleapis.com/nex-profiles/profile-image/1549111D78317BE457235798DE15EA88/1590139107424.JPG'
                        bio: ''
                        status: ACTIVE
                      otherscomments:
                        - isowner: false
                          commentid: 5fc4baeb51896300019f6e95
                          rating: 0
                          reviews: 'Fin,öppenhjärtlig berättelse!'
                          upvotes: 0
                          downvotes: 0
                          tags: []
                          ishelpful: 0
                          status: ACTIVE
                          position: 0
                          createdon: '2020-11-30 10:27:07 +0100'
                          profilename: Barbara Särlöv
                          profileimage: 'https://storage.googleapis.com/nex-profiles/profile-image/E2E5E1E04A5A7572BC214CF363421C6A/1603017630665.JPG'
                          bio: My name is Jody. I like to read.
                        - isowner: false
                          commentid: 5f82ea54afec1a00013fe809
                          rating: 5
                          reviews: 'En bok om att acceptera och älska själv, jakten på lycka och att våga vara den du är. '
                          upvotes: 0
                          downvotes: 0
                          tags: []
                          ishelpful: 0
                          status: ACTIVE
                          position: 1
                          createdon: '2020-10-11 13:19:48 +0200'
                          profilename: Anna Simu
                          profileimage: ''
                          bio: My name is Paul. I also like to read.
                Example (Harry Potter Book):
                  value:
                    data:
                      owncomments: null
                      otherscomments:
                        - isowner: false
                          commentid: 60bb075f02e26f0001f06aab
                          rating: 5
                          reviews: Spännande och rolig
                          upvotes: 0
                          downvotes: 0
                          tags: []
                          ishelpful: 0
                          status: ACTIVE
                          position: 5
                          createdon: '2021-06-05 07:10:55 +0200'
                          profilename: helena.s.oliv Oliv
                          profileimage: 'https://storage.googleapis.com/nex-profiles/profile-image/7B492F7FE6A1EFD02AC7C9A2992FA64C/1612119278056.JPG'
                          bio: null
                        - isowner: false
                          commentid: 60b7ce9a0c19ca00014a976f
                          rating: 5
                          reviews: Superbra
                          upvotes: 0
                          downvotes: 0
                          tags: []
                          ishelpful: 0
                          status: ACTIVE
                          position: 6
                          createdon: '2021-06-02 20:31:54 +0200'
                          profilename: Malin Erneby
                          profileimage: ''
                          bio: null
                        - isowner: false
                          commentid: 60b7b7f62bc0dc000137cfeb
                          rating: 5
                          reviews: 'Den var superbra '
                          upvotes: 0
                          downvotes: 0
                          tags: []
                          ishelpful: 0
                          status: ACTIVE
                          position: 7
                          createdon: '2021-06-02 18:55:18 +0200'
                          profilename: Louise Follin
                          profileimage: ''
                          bio: null
                        - isowner: false
                          commentid: 60a968de72f0d3000199f8cd
                          rating: 5
                          reviews: 'Den e ba foög jet jeglar hary potter bukar '
                          upvotes: 0
                          downvotes: 0
                          tags: []
                          ishelpful: 0
                          status: ACTIVE
                          position: 8
                          createdon: '2021-05-22 22:26:06 +0200'
                          profilename: idakarlsson88 karlsson
                          profileimage: ''
                          bio: null
                        - isowner: false
                          commentid: 60a8eb7ecc05460001079878
                          rating: 4
                          reviews: 'Ännu bättre än bok 2, jag riktigt njöt av varje sekund\uD83E\uDD70'
                          upvotes: 0
                          downvotes: 0
                          tags: []
                          ishelpful: 0
                          status: ACTIVE
                          position: 9
                          createdon: '2021-05-22 13:31:10 +0200'
                          profilename: Emma Lerjestam
                          profileimage: 'https://storage.googleapis.com/nex-profiles/profile-image/598CB8CD36A10EAA4C42677568C8FA99/1604598357898.JPG'
                          bio: null
























  /readdiary/profilereadtimemeta:
    get:
      summary: Reading diary - read-time metadata
      operationId: NX-0251
      description: |-
        **Description:** Gets reading-diary summary data.

        **Parameters:** Mandatory header parameters plus one query parameter.

        **Example Request URL:** [http://104.155.208.232:82/api/6.5/readdiary/profilereadtimemeta?year=2019](http://104.155.208.232:82/api/6.5/readdiary/profilereadtimemeta?year=2019)
      tags:
        - Reading diary
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: '2019'
          in: query
          name: year
          description: The year you are searching for data on. The app gets the current year from device settings. API v6.5 and higher.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - kpi
                    properties:
                      kpi:
                        type: array
                        description: 'Reading diary key performance indicators. Values are ”reading_hours”, ”reading_days” and ”average_minutes_per_day”. ”reading_hours” = the total hours spent reading in the current year, ”reading_days” the total days spent reading in the current year, ”average_minutes_per_day” the average minutes per day spent reading in the current year.'
                        uniqueItems: true
                        items:
                          type: object
                          properties:
                            key:
                              type: string
                            value:
                              type: number
                          required:
                            - key
                            - value
                required:
                  - data
              examples:
                Example (Account Holder):
                  value:
                    data:
                      kpi:
                        - key: reading_hours
                          value: 0
                        - key: reading_days
                          value: 0
                        - key: average_minutes_per_day
                          value: 0
                Example (Visitor):
                  value:
                    data:
                      kpi: []
  /readdiary/profilereadtimelist:
    get:
      summary: Reading diary - read-time list
      operationId: NX-0252
      description: |-
        **Description:** Gets a detailed list of historical read times for this account holder’s reading diary.

        **Parameters:** Mandatory header parameters plus some query parameters.

        **Example Request URL:** [http://104.155.208.232:82/api/6.5/readdiary/profilereadtimelist?year=2019&month=1](http://104.155.208.232:82/api/6.5/readdiary/profilereadtimelist?year=2019&month=1)
      tags:
        - Reading diary
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: '2019'
          in: query
          name: year
          description: The year you are searching for data on. The app gets the current year from device settings. API v6.5 and higher.
          required: true
        - schema:
            type: string
            example: '1'
          in: query
          name: month
          description: The month you are searching for data. The app gets the current year from device settings. API v6.5 and higher.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - reading_time
                    properties:
                      reading_time:
                        type: object
                        description: ''
                        required:
                          - month
                          - year
                          - total_reading_seconds_this_month
                          - total_reading_seconds_last_month
                          - daywise_readtime_in_seconds_this_month
                          - daywise_readtime_in_seconds_last_month
                        properties:
                          month:
                            type: number
                            example: 1
                            description: The month specified in the query.
                          year:
                            type: number
                            example: 2019
                            description: The year specified in the query.
                          total_reading_seconds_this_month:
                            type: number
                            example: 0
                            description: The amount of reading time (in seconds) in the specified month.
                          total_reading_seconds_last_month:
                            type: number
                            example: 0
                            description: The amount of reading time (in seconds) in the month previous to the specified month.
                          daywise_readtime_in_seconds_this_month:
                            type: array
                            uniqueItems: true
                            description: How much time spent reading each day of the current month.
                            items:
                              type: object
                              properties:
                                upddate:
                                  type: number
                                  example: 0.03226
                                  description: 'The normalized day of the month, meaning from 0 – 1 rather than from 1 – 31.'
                                usagetime:
                                  type: number
                                  example: 0
                                  description: The number of seconds read on the specified day of the month.
                              required:
                                - upddate
                                - usagetime
                          daywise_readtime_in_seconds_last_month:
                            type: array
                            uniqueItems: true
                            description: How much time spent reading each day of the month previous to the current month.
                            items:
                              type: object
                              properties:
                                upddate:
                                  type: number
                                  example: 0.03226
                                  description: 'The normalized day of the month, meaning from 0 – 1 rather than from 1 – 31.'
                                usagetime:
                                  type: number
                                  example: 0
                                  description: The number of seconds read on the specified day of the month.
                              required:
                                - upddate
                                - usagetime
                required:
                  - data
              examples:
                Example (Account Holder):
                  value:
                    data:
                      reading_time:
                        month: 1
                        year: 2019
                        total_reading_seconds_this_month: 0
                        total_reading_seconds_last_month: 0
                        daywise_readtime_in_seconds_this_month:
                          - upddate: 0.03226
                            usagetime: 0
                          - upddate: 0.06452
                            usagetime: 0
                          - upddate: 0.09677
                            usagetime: 0
                          - upddate: 0.12903
                            usagetime: 0
                          - upddate: 0.16129
                            usagetime: 0
                          - upddate: 0.19355
                            usagetime: 0
                          - upddate: 0.22581
                            usagetime: 0
                          - upddate: 0.25806
                            usagetime: 0
                          - upddate: 0.29032
                            usagetime: 0
                          - upddate: 0.32258
                            usagetime: 0
                          - upddate: 0.35484
                            usagetime: 0
                          - upddate: 0.3871
                            usagetime: 0
                          - upddate: 0.41935
                            usagetime: 0
                          - upddate: 0.45161
                            usagetime: 0
                          - upddate: 0.48387
                            usagetime: 0
                          - upddate: 0.51613
                            usagetime: 0
                          - upddate: 0.54839
                            usagetime: 0
                          - upddate: 0.58065
                            usagetime: 0
                          - upddate: 0.6129
                            usagetime: 0
                          - upddate: 0.64516
                            usagetime: 0
                          - upddate: 0.67742
                            usagetime: 0
                          - upddate: 0.70968
                            usagetime: 0
                          - upddate: 0.74194
                            usagetime: 0
                          - upddate: 0.77419
                            usagetime: 0
                          - upddate: 0.80645
                            usagetime: 0
                          - upddate: 0.83871
                            usagetime: 0
                          - upddate: 0.87097
                            usagetime: 0
                          - upddate: 0.90323
                            usagetime: 0
                          - upddate: 0.93548
                            usagetime: 0
                          - upddate: 0.96774
                            usagetime: 0
                          - upddate: 1
                            usagetime: 0
                        daywise_readtime_in_seconds_last_month:
                          - upddate: 0.03226
                            usagetime: 0
                          - upddate: 0.06452
                            usagetime: 0
                          - upddate: 0.09677
                            usagetime: 0
                          - upddate: 0.12903
                            usagetime: 0
                          - upddate: 0.16129
                            usagetime: 0
                          - upddate: 0.19355
                            usagetime: 0
                          - upddate: 0.22581
                            usagetime: 0
                          - upddate: 0.25806
                            usagetime: 0
                          - upddate: 0.29032
                            usagetime: 0
                          - upddate: 0.32258
                            usagetime: 0
                          - upddate: 0.35484
                            usagetime: 0
                          - upddate: 0.3871
                            usagetime: 0
                          - upddate: 0.41935
                            usagetime: 0
                          - upddate: 0.45161
                            usagetime: 0
                          - upddate: 0.48387
                            usagetime: 0
                          - upddate: 0.51613
                            usagetime: 0
                          - upddate: 0.54839
                            usagetime: 0
                          - upddate: 0.58065
                            usagetime: 0
                          - upddate: 0.6129
                            usagetime: 0
                          - upddate: 0.64516
                            usagetime: 0
                          - upddate: 0.67742
                            usagetime: 0
                          - upddate: 0.70968
                            usagetime: 0
                          - upddate: 0.74194
                            usagetime: 0
                          - upddate: 0.77419
                            usagetime: 0
                          - upddate: 0.80645
                            usagetime: 0
                          - upddate: 0.83871
                            usagetime: 0
                          - upddate: 0.87097
                            usagetime: 0
                          - upddate: 0.90323
                            usagetime: 0
                          - upddate: 0.93548
                            usagetime: 0
                          - upddate: 0.96774
                            usagetime: 0
                          - upddate: 1
                            usagetime: 0
                Example (Visitor):
                  value:
                    data:
                      reading_time:
                        month: 0
                        year: 0
                        total_reading_seconds_this_month: 0
                        total_reading_seconds_last_month: 0
                        daywise_readtime_in_seconds_this_month: []
                        daywise_readtime_in_seconds_last_month: []
  /readdiary/<api_version>/adddeletegoals:
    get:
      summary: 'Add, delete, update a goal'
      operationId: NX-0281
      description: |-
        **Description:** Modifies reading goals.

        **Parameters:** Mandatory header parameters plus some query parameters.

        **Example Request URL:** [https://www.nextory.se/api/app/readdiary/<api_version>/adddeletegoals?type=books&books=10&duration=3&reminders=1&action=add](https://www.nextory.se/api/app/readdiary/<api_version>/adddeletegoals?type=books&books=10&duration=3&reminders=1&action=add)
      tags:
        - Reading goals
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: books
          in: query
          name: type
          description: 'The type of goal. From April 2019, only books-type goals are supported. API v6.5 and higher.'
          required: true
        - schema:
            type: number
            example: 10
          in: query
          name: books
          description: The number of books in a books-type goal. Required for books-type goals with actions "add" or "update". API v6.5 and higher.
          required: true
        - schema:
            type: number
            example: 3
          in: query
          name: duration
          description: 'The number of months a books-type goal lasts. Required in case of books-type goal, action "add" or "update". API v6.5 and higher.'
          required: true
        - schema:
            type: boolean
            example: true
          in: query
          name: reminders
          description: 'A boolean value ("1" or "0") that indicates if reading-goal reminder notifications will be enabled. “1” (true) = enable notifications, “0” (false) = disable notifications. Required in case of books-type goal, action "add" or "update". API v6.5 and higher.'
          required: true
        - schema:
            type: string
            example: add
            enum:
              - add
              - delete
              - update
          in: query
          name: action
          description: 'The actions that can be passed with the query. The allowed actions are “add”, “update” and “delete”. API v6.5 and higher.'
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    properties: {}
                required:
                  - data
              examples:
                Example:
                  value:
                    data: {}
  /readdiary/<api_version>/fetchgoals:
    get:
      summary: Fetch goals
      operationId: NX-0282
      description: |-
        **Description:** Gets a list of current reading goals.

        **Parameters:** Mandatory header parameters only.

        **Example Request URL:** [https://www.nextory.se/api/app/readdiary/<api_version>/fetchgoals](https://www.nextory.se/api/app/readdiary/<api_version>/fetchgoals)
      tags:
        - Reading goals
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      goals:
                        type: array
                        uniqueItems: true
                        items:
                          required:
                            - type
                            - books
                            - duration
                            - startdate
                            - enddate
                            - status
                            - expired
                            - daysleft
                            - reminders
                          properties:
                            type:
                              type: string
                              example: books
                              description: 'The type of goal. From April 2019, only books-type goals are supported. API v6.5 and higher.'
                            books:
                              type: number
                              example: 30
                              description: The number of books in a books-type goal. API v6.5 and higher.
                            duration:
                              type: number
                              example: 3
                              description: The number of months a books-type goal lasts. API v6.5 and higher.
                            startdate:
                              type: string
                              example: '04-19-2019 15:32:26 +0100'
                              description: The date when the reading goal began. API v6.5 and higher.
                            enddate:
                              type: string
                              example: '07-19-2019 15:32:26 +0100'
                              description: The date when the reading goal ends. API v6.5 and higher.
                            status:
                              type: number
                              example: 12
                              description: 'The number of books that the account holder has indicated as completed after the goal was set. It can be less than, equal to, or greater than the "books" attribute value. API v6.5 and higher.'
                            expired:
                              type: boolean
                              example: false
                              description: 'A boolean value (“1” or “0”) that indicates if a books-type goal has expired. “1” (true) = expired, “0” (false) = not expired. The goal is expired when the current date is greater than the goal end date. The server to persist expired goals until a new goal of the same type is created. API v6.5 and higher.'
                            daysleft:
                              type: number
                              example: 76
                              description: The number of days left in the reading goal. The difference between the current date and the goal end date. It's better to let the server calculate this so the app does not need to take the device current date/time into account. API v6.5 and higher.
                            reminders:
                              type: boolean
                              example: true
                              description: A boolean value ("1" or "0") that indicates if reading-goal reminder notifications will be enabled. “1” (true) = enable notifications. “0” (false) = disable notifications. API v6.5 and higher.
                    required:
                      - goals
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      goals:
                        - type: books
                          books: 30
                          duration: 3
                          startdate: '04-19-2019 15:32:26 +0100'
                          enddate: '07-19-2019 15:32:26 +0100'
                          status: 12
                          expired: false
                          daysleft: 76
                          reminders: true
  /readdiary/<api_version>/profilestats:
    get:
      summary: Reading diary - rated authors and genres
      operationId: NX-0253
      description: |-
        **Description:** Returns a list of the most-liked authors, genres and books for this account holder.

        **Parameters:** Mandatory header parameters plus two query parameters.

        **Example Request URL:** [https://api.nextory.se/api/app/readdiary/6.5/profilestats?&startyear=2019&endyear=2019](https://api.nextory.se/api/app/readdiary/6.5/profilestats?&startyear=2019&endyear=2019)
      tags:
        - Reading diary
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: '201'
          in: query
          name: startyear
          description: The first year in the query range. The app gets the current year from device settings.
          required: true
        - schema:
            type: string
            example: '2019'
          in: query
          name: endyear
          description: The last year in the query range. The app gets the current year from device settings.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - startdate
                      - enddate
                      - author_stats
                      - category_stats
                      - rating_stats
                      - completed_book_stats
                    properties:
                      startdate:
                        type: number
                        example: 20190101
                        description: The first date of the year you are searching for data on. The app gets the current year from device settings.
                      enddate:
                        type: number
                        example: 20191231
                        description: The last date of the year you are searching for data on. The app gets the current year from device settings.
                      author_stats:
                        type: object
                        required:
                          - total_count
                          - authorlist
                        properties:
                          total_count:
                            type: number
                            description: The total number of authors the account holder has rated in the specifed year or years.
                          authorlist:
                            type: array
                            uniqueItems: true
                            description: The list of authors.
                            items:
                              type: object
                              properties:
                                authorname:
                                  type: string
                                  example: Torill Thorup
                                  description: The name of the author.
                                count:
                                  type: number
                                  example: 1
                                  description: 'The total number of ratings given by the account holder for this author, or the total number of books by that author marked as completed.'
                              required:
                                - authorname
                                - count
                      category_stats:
                        type: object
                        required:
                          - total_count
                          - categorylist
                        properties:
                          total_count:
                            type: number
                            example: 12
                            description: The total number of rated genres the account holder has marked as completed in the specified year or years.
                          categorylist:
                            type: array
                            uniqueItems: true
                            description: The list of rated genres and the total marked as completed.
                            items:
                              type: object
                              properties:
                                categoryname:
                                  type: string
                                  example: Fakta
                                  description: The name of the genre.
                                categorylevel:
                                  type: number
                                  example: 1
                                  description: 'The type of category level. Values are "1" = main category, "2" = sub-category.'
                                  enum:
                                    - 1
                                    - 2
                                count:
                                  type: number
                                  example: 1
                                  description: The total number of ratings given by the account holder for this completed genre.
                                categoryid:
                                  type: number
                                  example: 234
                                  description: The ID of the category itself. Allows the app to potentially jump to that category listing.
                              required:
                                - categoryname
                                - categorylevel
                                - count
                                - categoryid
                      rating_stats:
                        type: object
                        required:
                          - total_count
                          - ratingslist
                        properties:
                          total_count:
                            type: number
                            example: 13
                            description: The total number of books the account holder has rated in the specifed year or years.
                          ratingslist:
                            type: array
                            uniqueItems: true
                            description: The list of books and the total ratings given to each.
                            items:
                              type: object
                              properties:
                                bookid:
                                  type: number
                                  example: 10003952
                                  description: The book identifier.
                                isbn:
                                  type: string
                                  example: '9789174059908'
                                  description: The book ISBN number.
                                title:
                                  type: string
                                  example: Bamse och Tjuvstaden
                                  description: The book title.
                                ratings:
                                  type: number
                                  example: 5
                                  description: The total number of ratings the account holder has given to this book.
                              required:
                                - bookid
                                - isbn
                                - title
                                - ratings
                      completed_book_stats:
                        type: object
                        required:
                          - total_count
                        properties:
                          total_count:
                            type: number
                            description: The total number of books the account holder has completed in the period.
                            example: 0
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      startdate: 20190101
                      enddate: 20191231
                      author_stats:
                        total_count: 6
                        authorlist:
                          - authorname: Univerb
                            count: 1
                          - authorname: Torill Thorup
                            count: 1
                          - authorname: Sven Kjellgren
                            count: 1
                          - authorname: Annika Bengtsson
                            count: 1
                          - authorname: Louise Boije af Gennäs
                            count: 1
                          - authorname: Joakim Gunnarsson
                            count: 1
                      category_stats:
                        total_count: 12
                        categorylist:
                          - categoryname: Skönlitteratur
                            categorylevel: 1
                            count: 4
                            categoryid: 142
                          - categoryname: Fakta
                            categorylevel: 1
                            count: 1
                            categoryid: 234
                          - categoryname: Barnböcker
                            categorylevel: 1
                            count: 1
                            categoryid: 39
                      rating_stats:
                        total_count: 13
                        ratingslist:
                          - bookid: 10003952
                            isbn: '9789174059908'
                            title: Bamse och Tjuvstaden
                            ratings: 5
                          - bookid: 10033044
                            isbn: '9789176292563'
                            title: På andra sidan Venus
                            ratings: 5
                          - bookid: 10010855
                            isbn: '9789198097818'
                            title: Svartängeln
                            ratings: 4
                          - bookid: 10000737
                            isbn: '9789185615469'
                            title: Expresskurs Japanska
                            ratings: 4
                          - bookid: 10038665
                            isbn: '9789176515044'
                            title: Dåliga nyheter
                            ratings: 3
                          - bookid: 10064067
                            isbn: '9789188465108'
                            title: Såren som aldrig läker
                            ratings: 3
                          - bookid: 10004812
                            isbn: '9789174615791'
                            title: Glöm inte att låsa
                            ratings: 3
                          - bookid: 10031478
                            isbn: '9789175578781'
                            title: Omgiven av idioter - hur man förstår dem som inte går att förstå
                            ratings: 3
                          - bookid: 10062593
                            isbn: '9789177796169'
                            title: 'Det osagda: En släkthistoria'
                            ratings: 3
                          - bookid: 10067687
                            isbn: '9788711838662'
                            title: Spanaren som bytte sida
                            ratings: 3
                      completed_book_stats:
                        total_count: 0
  /readdiary/profileyearlystats:
    get:
      summary: Reading diary - yearly read-time list
      operationId: NX-0254
      description: |-
        **Description:** Returns how much reading time the account holder had each month in the last 12 months.

        **Parameters:** Mandatory header parameters only.

        **Example Request URL:** [https://apptest.nextory.se:92/api/app/readdiary/6.7/profileyearlystats](https://apptest.nextory.se:92/api/app/readdiary/6.7/profileyearlystats)
      tags:
        - Reading diary
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      profileid:
                        type: number
                        example: 231047
                        description: The account holder’s profile ID.
                      average_readtime_in_seconds:
                        type: number
                        example: 0.1983627361114486
                        description: The account holder’s average daily reading time in seconds over the past 12 months.
                      monthwise_readtime_in_seconds:
                        type: array
                        uniqueItems: true
                        description: How many seconds the account holder read in each of the past 12 months since today.
                        items:
                          required:
                            - upddate
                            - usagetime
                          properties:
                            upddate:
                              type: string
                              example: 2018-12
                              description: The year and month that the usagetime refers to. Each entry in this array is the total reading clock time for one month.
                            usagetime:
                              type: number
                              example: 0
                              description: The total reading clock time for the month in question.
                    required:
                      - profileid
                      - average_readtime_in_seconds
                      - monthwise_readtime_in_seconds
                required:
                  - data
              examples:
                Example (Account Holder):
                  value:
                    data:
                      profileid: 231047
                      average_readtime_in_seconds: 0.19836274
                      monthwise_readtime_in_seconds:
                        - upddate: 2018-12
                          usagetime: 0
                        - upddate: 2019-01
                          usagetime: 0
                        - upddate: 2019-02
                          usagetime: 0
                        - upddate: 2019-03
                          usagetime: 0
                        - upddate: 2019-04
                          usagetime: 0
                        - upddate: 2019-05
                          usagetime: 0
                        - upddate: 2019-06
                          usagetime: 0
                        - upddate: 2019-07
                          usagetime: 0
                        - upddate: 2019-08
                          usagetime: 0
                        - upddate: 2019-09
                          usagetime: 0
                        - upddate: 2019-10
                          usagetime: 2.38035
                        - upddate: 2019-11
                          usagetime: 0
                Example (Visitor):
                  value:
                    data:
                      profileid: 0
                      average_readtime_in_seconds: 0
                      monthwise_readtime_in_seconds:
                        - upddate: string
                          usagetime: 0
  /searchbooks:
    get:
      summary: Search all books
      operationId: NX-013
      description: |-
        **Description:** Does a simple search for books.

        **Parameters:** Mandatory header parameters plus some query parameters.

        **Example Request URL:** [https://www.nextory.se/api/6.0/searchbooks?appId=201&version=1.1&model=Simulator64&query=john&pagenumber=1&type=2&sorton=title](https://www.nextory.se/api/6.0/searchbooks?appId=201&version=1.1&model=Simulator64&query=john&pagenumber=1&type=2&sorton=title)

        **Possible Errors:** 1000
      tags:
        - Search
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: drama
          in: query
          name: query
          description: Search term. All API versions.
          required: true
        - schema:
            type: string
            example: '2'
            default: '0'
          in: query
          name: pagenumber
          description: Page number for lazy load (pagination). Default value = “0”. All API versions.
          required: false
        - schema:
            type: string
            example: '12'
            default: '12'
          in: query
          name: pagesize
          description: The number of bookgroups displayed on a single page. Required if view = "series". There may be situations where a page contains fewer bookgroups than requested. But this does not mean that the next page will contain zero bookgroups. The app therefore needs to continue asking for more bookgroups until it gets an empty array of bookgroups in response. API v6.0 and higher.
          required: false
        - schema:
            type: string
            example: '1'
            enum:
              - '0'
              - '1'
              - '2'
          in: query
          name: type
          description: 'The type of book. Values are “0”, “1” and “2”. "1" = only e-books are returned. "2" = only audio books are returned. If missing or "0" then both e-books and audio books are returned. All API versions.'
          required: false
        - schema:
            type: string
            example: title
            enum:
              - popularity
              - pubdate
              - title
            default: popularity
          in: query
          name: sort
          description: 'How search results will be sorted. Values are “popularity”, “title” and “pubDate”. If missing or an incorrect value is passed, the default is “pubDate”. “popularity” = descending order (the most popular book comes first), “title” = ascending order (A-Z), “pubDate” = descending order (the most recently published book comes first).'
          required: false
        - schema:
            type: boolean
            default: false
            example: true
          in: query
          name: includenotallowedbooks
          description: 'A boolean value (“1” or “0”) that indicates if books returned by the server are not allowed under the account holder’s subscription. "1" (true) = books are not allowed, “0” (false) = books are allowed. Pagination starts from 0. API v6.2 and higher.'
          required: false
        - schema:
            type: string
            default: '0'
            example: 'sv,en'
          in: query
          name: languages
          description: 'Takes single or multiple language codes as values, separated by a comma. If this is not passed, the backend filters bookgroups based on languages allowed for the user market. Any other language values specified will be ignored. If the format of the values is invalid, error code 1000 will be returned. API v7.1 and higher.'
          required: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - books
                    properties:
                      bookCount:
                        type: string
                        example: '131'
                        description: The total number of books in the bookgroup. Required in case of the /searchbooks (NX-013) endpoint response. All API versions.
                      notallowedbookcount:
                        type: string
                        example: '11'
                        description: The total number of books that are not allowed for the account holder's subscription. Required in case of /searchbooks (NX-013) endpoint response. API v6.2 and higher.
                      pagetoken:
                        type: string
                        example: '1581315222'
                        description: Introduced as part of the ticket to handle 'Add to library directly from list'. The value for this token is obtained from the backend in the response to the /booksforbookgroup endpoint (“pagenumber” = “0”). The value obtained has to be carried over for the subsequent paginated calls so that any books added to the library after this timestamp will not be excluded from the API response. All API versions.
                      books:
                        type: object
                        required:
                          - authors
                          - descriptionBrief
                          - popularity
                          - id
                          - imageUrl
                          - weburl
                          - pubDate
                          - availableinlib
                          - title
                          - type
                          - libID
                          - allowedinlibrary
                          - relatedbookallowedinlibrary
                          - rank
                          - position
                          - avgrate
                          - numberofrates
                          - userrate
                          - coverratio
                          - isupcoming
                          - isrelatedbookupcoming
                          - libstatus
                          - inCompletedList
                          - relatedInCompletedList
                        properties:
                          authors:
                            type: array
                            description: The book author or authors. All API versions.
                            items: {}
                          descriptionBrief:
                            type: string
                            example: Some description...
                            description: A brief description of the book. Might be a truncated book description from a book card screen. All API versions.
                          popularity:
                            type: string
                            example: '95'
                            description: A value used to sort books locally by popularity. All API versions.
                          id:
                            type: string
                            example: '1026126'
                            description: The identifier for the book itself. All API versions.
                          imageUrl:
                            type: string
                            example: 'https://www.nextory.se/coverimg/130/1007145.jpg'
                            description: Valid image URL. Applies only to the "Promotion" bookgroup type. The image does not need to support resizing on the server. API v6.3 and higher.
                          weburl:
                            type: string
                            example: 'https://nextory.se/bok/jakten-pa-tam-jo-salmson/1007145'
                            description: Bookdetails link for Nextory web. All API versions.
                          pubDate:
                            type: string
                            example: '02-10-2016 15:32:26 +0100'
                            description: The book publication date. The date format might be different but must be consistent across the entire API. Used to sort books locally by date. All API versions.
                          availableinlib:
                            type: number
                            example: 1
                            description: 'Values are "0", "1" and "2". "0" = the book is neither present in the active list nor in my list, "1" = the book is present in my list, "2" = the book is present in the active list. API v6.3 and higher.'
                            deprecated: true
                          relatedBookId:
                            type: string
                            example: '1007146'
                            description: 'Indicates if the e-book has a related audiobook or vice versa. Contains an identifier for the related book. If missing, then the book does not have a related book. All API versions.'
                          title:
                            type: string
                            example: Förnuft och känsla
                            description: The book title. This value is also used to sort books locally by title. All API versions.
                          type:
                            type: string
                            example: '2'
                            description: 'An enum value that defines the content type of a book. "1" = e-books only, "2" = audio books only. All API versions.'
                            enum:
                              - '1'
                              - '2'
                          libID:
                            type: string
                            example: '123'
                            deprecated: true
                            description: 'The book identifier in the account holder’s library. Used in the activation process. Different from id and specific to each profile. When the book is not in my list or active, then we assume that libId is zero. Required in case availableinlib is "1" or "2". Deprecated in API v6.3 (see /bookinfo NX-005).'''
                          allowedinlibrary:
                            type: boolean
                            example: true
                            description: 'A boolean value ("1" or "0") that indicates if the book is available to the account holder’s current subscription. “1” (true) = is available, “0” (false) = is not available. The value should always = “1” for active books because an active book cannot be ‘not allowed’ in an account holder’s library. All API versions.'
                          relatedbookallowedinlibrary:
                            type: boolean
                            example: false
                            description: 'A boolean value ("1" or "0") that indicates if the related book is available to the account holder’s current subscription. “1” (true) = is available, “0” (false) = is not available. Required in case of non-empty “relatedbookid”. All API versions.'
                          numberinseries:
                            type: number
                            example: 11
                            description: 'If the book is a part of series, this parameter indicates the volume number of the book within the series. If the book is not part of a series, this attribute will not be present. The app displays “numberinseries” only if it is greater than “0” and the corresponding bookgroup’s “showvolume” attribute = “1” (true).'
                          esalesticket:
                            type: string
                            example: asdfadsrvdgbvfavf
                            description: Defines an e-sales ticket string needed for smart search implementations. Required in case account holders go to a book card screen and adds the book to my list. We consider this parameter only when "action" = “add”.
                          rank:
                            type: number
                            example: 1
                            description: The relevance of the book in the list. Related to position if the list is sorted by relevance.
                          position:
                            type: number
                            example: 4
                            description: Indicates a book's default position in a list of books for a bookgroup. All API versions.
                          avgrate:
                            type: number
                            example: 4.8018281535649
                            description: The average book rating given by account holders. API v6.3 and higher.
                          numberofrates:
                            type: integer
                            example: 10
                            description: The total number of account holder ratings given to the book. “0” = there are no ratings yet. API v6.3 and higher.
                          userrate:
                            type: number
                            example: 5
                            description: 'The book rating given by the account holder. Values are "0.0", "0.5", "1.0", "1.5", "2.0", "2.5", "3.0", "3.5", "4.0", "4.5", "5.0". A value of 0.0 means that the account holder has not rated the book. API v5.6 and higher.'
                            enum:
                              - 0
                              - 0.5
                              - 1
                              - 1.5
                              - 2
                              - 2.5
                              - 3
                              - 3.5
                              - 4
                              - 4.5
                              - 5
                          coverratio:
                            type: number
                            example: 0.5714
                            description: The ratio of book cover image width and height. Cover ratio = width/height. API v6.3 and higher.
                          isupcoming:
                            type: boolean
                            example: false
                            description: 'A boolean value ("1" or "0") that indicates if the book is upcoming or not. “1” (true) = is upcoming, “0” (false) = is not upcoming. API v6.9 and higher.'
                          isrelatedbookupcoming:
                            type: boolean
                            example: true
                            description: 'A boolean value ("1" or "0") that indicates if the related book is upcoming or not. “1” (true) = is upcoming, “0” (false) = is not upcoming. API v6.9 and higher.'
                          libstatus:
                            type: string
                            example: NOTINLIB
                            description: 'Indicates the possible status of the book in the account holder’s library. Values are “NOTINLIB”, “ACTIVE”, “INACTIVE” and “COMPLETED”. API v7.1 and higher.'
                            enum:
                              - ACTIVE
                              - COMPLETED
                              - INACTIVE
                              - NOTINLIB
                          libid:
                            type: string
                            example: '577433'
                            description: 'The book identifier in the account holder’s library. Used in the activation process. Different from id and specific to each profile. When the book is not in my list or active, then we assume that libId is zero. All API versions.'''
                          inCompletedList:
                            type: boolean
                            example: true
                            description: 'A boolean value ("1" or "0") that indicates if a book is in the completed list. “1” (true) = is in the completed list, “0” (false) = is not in the completed list. API v7.1 and higher.'
                          relatedInCompletedList:
                            type: boolean
                            example: false
                            description: 'A boolean value ("1" or "0") that indicates if a related book is in the completed list. “1” (true) = is in the completed list, “0” (false) = is not in the completed list. API v7.1 and higher.'
              examples:
                Example:
                 value:
                    data:
                      bookCount: '131'
                      notallowedbookcount: '11'
                      pagetoken: '1581315222'
                      books:
                        authors:
                          - null
                        descriptionBrief: Some description...
                        popularity: '95'
                        id: '1026126'
                        imageUrl: 'https://www.nextory.se/coverimg/130/1007145.jpg'
                        weburl: 'https://nextory.se/bok/jakten-pa-tam-jo-salmson/1007145'
                        pubDate: '02-10-2016 15:32:26 +0100'
                        availableinlib: 1
                        relatedBookId: '1007146'
                        title: Förnuft och känsla
                        type: '1'
                        libID: '123'
                        allowedinlibrary: true
                        relatedbookallowedinlibrary: true
                        numberinseries: 11
                        esalesticket: asdfadsrvdgbvfavf
                        rank: 0
                        position: 4
                        avgrate: 4.8018281535649
                        numberofrates: 10
                        userrate: 5
                        coverratio: 0.5714
                        isupcoming: true
                        isrelatedbookupcoming: true
                        libstatus: NOTINLIB
                        libid: '577433'
                        inCompletedList: true
                        relatedInCompletedList: true
  /searchbooksfacets:
    get:
      summary: Search advanced
      operationId: NX-014
      description: |-
        **Description:** Returns a list of facets that the account holder can use to narrow down the search results.

        **Parameters:** Mandatory header parameters plus some query parameters.

        **Example Request URL:** [http://104.155.208.232:82/api/6.4/searchbooksfacets?appId=201&version=3.3.2&model=Simulator&osinfo=11.4&deviceid=1869C1C1-77D5-4AEA-B5F1-E1CE8045768B&locale=sv_SE&token=f77e8f50-73c2-436f-b9e9-e491953a0561&query=stieg&pagenumber=0&pagesize=12&sort=default&type=0&includenotallowedbooks=0](http://104.155.208.232:82/api/6.4/searchbooksfacets?appId=201&version=3.3.2&model=Simulator&osinfo=11.4&deviceid=1869C1C1-77D5-4AEA-B5F1-E1CE8045768B&locale=sv_SE&token=f77e8f50-73c2-436f-b9e9-e491953a0561&query=stieg&pagenumber=0&pagesize=12&sort=default&type=0&includenotallowedbooks=0)
      tags:
        - Search
      parameters:
        - $ref: '#/components/parameters/appid'
        - $ref: '#/components/parameters/canary'
        - $ref: '#/components/parameters/deviceid'
        - $ref: '#/components/parameters/locale'
        - $ref: '#/components/parameters/model'
        - $ref: '#/components/parameters/osinfo'
        - $ref: '#/components/parameters/token'
        - $ref: '#/components/parameters/version'
        - schema:
            type: string
            example: drama
          in: query
          name: query
          description: Search term. API v6.5 and higher.
          required: true
        - schema:
            type: string
            example: '2'
          in: query
          name: pagenumber
          description: Page number for lazy load (pagination). Default value = “0”. All API versions.
          required: false
        - schema:
            type: string
            example: '12'
          in: query
          name: pagesize
          description: The number of bookgroups displayed on a single page. Required if view = "series". There may be situations where a page contains fewer bookgroups than requested. But this does not mean that the next page will contain zero bookgroups. The app therefore needs to continue asking for more bookgroups until it gets an empty array of bookgroups in response. API v6.0 and higher.
          required: false
        - schema:
            type: string
          in: query
          name: sort
          description: 'How search results will be sorted. Values are “relevance”, “pubDate”, “rating”, “title” and “author”. If missing or an incorrect value is passed, the default is “relevance”. “relevance” = descending order (the most relevant book comes first), “title” = ascending order (A-Z), “pubDate” = descending order (the most recently published book comes first).'
          required: false
        - schema:
            type: boolean
            example: true
          in: query
          name: includenotallowedbooks
          description: 'A boolean value (“1” or “0”) that indicates if books returned by the server are not allowed under the account holder’s subscription. "1" (true) = books are not allowed, “0” (false) = books are allowed. Pagination starts from 0. API v6.2 and higher.'
          required: false
        - schema:
            type: string
            example: Stieg Trenter (URL escaped)
          in: query
          name: authors_facet
          description: 'facet attribute + "_facet. Optional parameter for facet filters. The app should not keep this hardcoded, however it should hard-code the list of supported facets (see NX-0141). Multiple values are comma-separated. API v6.5 and higher.'
          required: false
        - schema:
            type: string
            example: 'sv,en'
          in: query
          name: languages
          description: 'Takes single or multiple language codes as values, separated by a comma. If this is not passed, the backend filters bookgroups based on languages allowed for the user market. Any other language values specified will be ignored. If the format of the values is invalid, error code 1000 will be returned. API v7.1 and higher.'
          required: false
        - schema:
            type: boolean
            example: true
          in: query
          name: tags
          description: 'A boolean value that indicates whether or not the query is on tags. API v7.1 and higher. '
          required: false
          deprecated: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  data:
                    type: object
                    required:
                      - books
                      - bookcount
                      - notallowedbookcount
                    properties:
                      books:
                        type: array
                        uniqueItems: true
                        items:
                          type: object
                          properties:
                            id:
                              type: number
                              example: 10057685
                              description: The identifier for the book itself. All API versions.
                            title:
                              type: string
                              example: Harry Potter och De Vises Sten
                              description: The book title. This value is also used to sort books locally by title. All API versions.
                            type:
                              type: number
                              example: 2
                              description: 'An enum value that defines the content type of a book. "1" = e-books only, "2" = audio books only. All API versions.'
                            imageurl:
                              type: string
                              example: 'https://www.nextory.se/coverimg/130/10057685_2.jpg'
                              description: The book cover image URL. All API versions.
                            weburl:
                              type: string
                              example: 'https://www.nextory.se/bok/harry-potter-och-de-vises-sten-jk-rowling/9781781108956?esalesticket=Oy9zZWFyY2h6b25ld2l0aGZhY2V0cy9zZWFyY2gtaGl0czsjO3Byb2R1Y3Rfa2V5Ozg2ODM0Ozk3ODE3ODExMDg5NTY7T0JKRUNUSVZFJDtOT05FOk5PTkU7MzQ7'
                              description: Bookdetails link for Nextory web. All API versions.
                            descriptionbrief:
                              type: string
                              example: 'Plötsligt händer det märkliga ting i den lilla staden! Mystiska stjärnskott på himlen och svärmar av ugglor mitt på dagen, katter som läser kartor och underliga människor som står i gathörnen.'
                              description: A brief description of the book. Might be a truncated book description from a book card screen. All API versions.
                            relatedbookid:
                              type: string
                              example: '1007146'
                              description: 'Indicates if the e-book has a related audiobook or vice versa. Contains an identifier for the related book. If missing, then the book does not have a related book. All API versions.'
                            numberinseries:
                              type: number
                              example: 1
                              description: 'If the book is a part of series, this parameter indicates the volume number of the book within the series. If the book is not part of a series, this attribute will not be present. The app displays “numberinseries” only if it is greater than “0” and the corresponding bookgroup’s “showvolume” attribute = “1” (true).'
                            pubdate:
                              type: string
                              example: '2020-01-06 17:17:46 +0100'
                              description: The book publication date. The date format might be different but must be consistent across the entire API. Used to sort books locally by date. All API versions.
                            authors:
                              type: array
                              description: The book author or authors. All API versions.
                              items: {}
                            libid:
                              type: string
                              example: '5847880'
                              description: 'The book identifier in the account holder’s library. Used in the activation process. Different from id and specific to each profile. When the book is not in my list or active, then we assume that libId is zero. All API versions.'''
                            allowedinlibrary:
                              type: boolean
                              example: true
                              description: 'A boolean value ("1" or "0") that indicates if the book is available to the account holder’s current subscription. “1” (true) = is available, “0” (false) = is not available. The value should always = “1” for active books because an active book cannot be ‘not allowed’ in an account holder’s library. All API versions.'
                            relatedbookallowedinlibrary:
                              type: boolean
                              example: false
                              description: 'A boolean value ("1" or "0") that indicates if the related book is available to the account holder’s current subscription. “1” (true) = is available, “0” (false) = is not available. Required in case of non-empty “relatedbookid”. All API versions.'
                            coverratio:
                              type: number
                              example: 1
                              description: The ratio of book cover image width and height. Cover ratio = width/height. API v6.3 and higher.
                            esalesticket:
                              type: string
                              example: Oy9zZWFyY2h6b25ld2l0aGZhY2V0cy9zZWFyY2gtaGl0czsjO3Byb2R1Y3Rfa2V5Ozg2ODM0Ozk3ODE3ODExMDg5NTY7T0JKRUNUSVZFJDtOT05FOk5PTkU7MzQ7
                              description: Defines an e-sales ticket string needed for smart search implementations. Required in case account holders go to a book card screen and adds the book to my list. We consider this parameter only when "action" = “add”.
                            rank:
                              type: number
                              example: 1
                              description: The relevance of the book in the list. Related to position if the list is sorted by relevance.
                            position:
                              type: number
                              description: Indicates a book's default position in a list of books for a bookgroup. All API versions.
                              example: 1
                            numberofrates:
                              type: number
                              example: 2735
                              description: The total number of account holder ratings given to the book. “0” = there are no ratings yet. API v6.3 and higher.
                            avgrate:
                              type: number
                              example: 4.8018281535649
                              description: The average book rating given by account holders. API v6.3 and higher.
                            isupcoming:
                              type: boolean
                              example: true
                              description: 'A boolean value ("1" or "0") that indicates if the book is upcoming or not. “1” (true) = is upcoming, “0” (false) = is not upcoming. API v6.9 and higher.'
                            isrelatedbookupcoming:
                              type: boolean
                              example: false
                              description: 'A boolean value ("1" or "0") that indicates if the related book is upcoming or not. “1” (true) = is upcoming, “0” (false) = is not upcoming. API v6.9 and higher.'
                            libstatus:
                              type: string
                              example: INACTIVE
                              description: 'Indicates the possible status of the book in the account holder’s library. Values are “NOTINLIB”, “ACTIVE”, “INACTIVE” and “COMPLETED”. API v7.1 and higher.'
                              enum:
                                - ACTIVE
                                - COMPLETED
                                - INACTIVE
                                - NOTINLIB
                            series:
                              type: string
                              example: harry potter
                              description: 'Series name. If the book is not part of a series, this attribute will not be present. If there is a single book in a related bookgroup, the related bookgroup should not appear in this (NX-005) response. Not relevant to API v7.0 and higher.'
                          required:
                            - id
                            - title
                            - type
                            - imageurl
                            - weburl
                            - descriptionbrief
                            - pubdate
                            - authors
                            - libid
                            - allowedinlibrary
                            - relatedbookallowedinlibrary
                            - coverratio
                            - rank
                            - position
                            - numberofrates
                            - avgrate
                            - isupcoming
                            - isrelatedbookupcoming
                      bookcount:
                        type: number
                        example: 452
                        description: The total number of books in the bookgroup. Required in case of the /searchbooks (NX-013) endpoint response. All API versions.
                      notallowedbookcount:
                        type: number
                        example: 0
                        description: The total number of books that are not allowed for the account holder's subscription. Required in case of /searchbooks (NX-013) endpoint response. API v6.2 and higher.
                required:
                  - data
              examples:
                Example:
                  value:
                    data:
                      books:
                        - id: 10057685
                          title: Harry Potter och De Vises Sten
                          type: 2
                          imageurl: 'https://www.nextory.se/coverimg/130/10057685_2.jpg'
                          weburl: 'https://www.nextory.se/bok/harry-potter-och-de-vises-sten-jk-rowling/9781781108956?esalesticket=Oy9zZWFyY2h6b25ld2l0aGZhY2V0cy9zZWFyY2gtaGl0czsjO3Byb2R1Y3Rfa2V5Ozg2ODM0Ozk3ODE3ODExMDg5NTY7T0JKRUNUSVZFJDtOT05FOk5PTkU7MzQ7'
                          descriptionbrief: 'Plötsligt händer det märkliga ting i den lilla staden! Mystiska stjärnskott på himlen och svärmar av ugglor mitt på dagen, katter som läser kartor och underliga människor som står i gathörnen'
                          relatedbookid: ''
                          numberinseries: 1
                          pubdate: '2020-01-06 17:17:46 +0100'
                          authors:
                            - J.K. Rowling
                          libid: '5847880'
                          allowedinlibrary: true
                          relatedbookallowedinlibrary: false
                          coverratio: 1
                          esalesticket: Oy9zZWFyY2h6b25ld2l0aGZhY2V0cy9zZWFyY2gtaGl0czsjO3Byb2R1Y3Rfa2V5Ozg2ODM0Ozk3ODE3ODExMDg5NTY7T0JKRUNUSVZFJDtOT05FOk5PTkU7MzQ7
                          rank: 1
                          position: 1
                          numberofrates: 2735
                          avgrate: 4.8018281535649
                          isupcoming: false
                          isrelatedbookupcoming: false
                          libstatus: INACTIVE
                          series: harry potter
                        - id: 10057684
                          title: Harry Potter och Hemligheternas kammare
                          type: 2
                          imageurl: 'https://www.nextory.se/coverimg/130/10057684_3.jpg'
                          weburl: 'https://www.nextory.se/bok/harry-potter-och-hemligheternas-kammare-jk-rowling/9781781108963?esalesticket=Oy9zZWFyY2h6b25ld2l0aGZhY2V0cy9zZWFyY2gtaGl0czsjO3Byb2R1Y3Rfa2V5Ozg2ODMzOzk3ODE3ODExMDg5NjM7T0JKRUNUSVZFJDtOT05FOk5PTkU7MzQ7'
                          descriptionbrief: Sommarlovet är äntligen över! Harry Potter har längtat tillbaka till sitt andra år på Hogwarts skola för häxkonster och trolldom. Men hur ska han stå ut med den omåttligt stroppige professor
                          relatedbookid: ''
                          numberinseries: 2
                          pubdate: '2017-07-13 00:00:00 +0200'
                          authors:
                            - J.K. Rowling
                          allowedinlibrary: true
                          relatedbookallowedinlibrary: false
                          coverratio: 1
                          esalesticket: Oy9zZWFyY2h6b25ld2l0aGZhY2V0cy9zZWFyY2gtaGl0czsjO3Byb2R1Y3Rfa2V5Ozg2ODMzOzk3ODE3ODExMDg5NjM7T0JKRUNUSVZFJDtOT05FOk5PTkU7MzQ7
                          rank: 2
                          position: 2
                          numberofrates: 2092
                          avgrate: 4.8018281535649
                          isupcoming: false
                          isrelatedbookupcoming: false
                          libstatus: NOTINLIB
                          series: harry potter
                        - id: 10057687
                          title: Harry Potter och Halvblodsprinsen
                          type: 2
                          imageurl: 'https://www.nextory.se/coverimg/130/10057687_2.jpg'
                          weburl: 'https://www.nextory.se/bok/harry-potter-och-halvblodsprinsen-jk-rowling/9781781109007?esalesticket=Oy9zZWFyY2h6b25ld2l0aGZhY2V0cy9zZWFyY2gtaGl0czsjO3Byb2R1Y3Rfa2V5Ozg2ODM2Ozk3ODE3ODExMDkwMDc7T0JKRUNUSVZFJDtOT05FOk5PTkU7MzQ7'
                          descriptionbrief: I Harry Potter och Halvblodsprinsen går Harry Potter i sjätte årskursen på Hogwarts skola för häxkonster och trolldom. Han kastas rakt in i kampen mellan det onda och det goda.
                          relatedbookid: ''
                          numberinseries: 6
                          pubdate: '2017-08-14 00:00:00 +0200'
                          authors:
                            - J.K. Rowling
                          allowedinlibrary: true
                          relatedbookallowedinlibrary: false
                          coverratio: 1
                          esalesticket: Oy9zZWFyY2h6b25ld2l0aGZhY2V0cy9zZWFyY2gtaGl0czsjO3Byb2R1Y3Rfa2V5Ozg2ODM2Ozk3ODE3ODExMDkwMDc7T0JKRUNUSVZFJDtOT05FOk5PTkU7MzQ7
                          rank: 3
                          position: 3
                          numberofrates: 1441
                          avgrate: 4.8018281535649
                          isupcoming: false
                          isrelatedbookupcoming: false
                          libstatus: NOTINLIB
                          series: harry potter
                        - id: 10057676
                          title: Harry Potter och Fången från Azkaban
                          type: 2
                          imageurl: 'https://www.nextory.se/coverimg/130/10057676_3.jpg'
                          weburl: 'https://www.nextory.se/bok/harry-potter-och-fangen-fran-azkaban-jk-rowling/9781781108970?esalesticket=Oy9zZWFyY2h6b25ld2l0aGZhY2V0cy9zZWFyY2gtaGl0czsjO3Byb2R1Y3Rfa2V5OzkzNzkwOzk3ODE3ODExMDg5NzA7T0JKRUNUSVZFJDtOT05FOk5PTkU7MzQ7'
                          descriptionbrief: I tolv långa år har den ökända Sirius Black hållits fången på fortet Azkaban. Han är anklagad för att ha dödat tretton människor i samma förbannelse. Han anses vara den självklare efterträdar
                          relatedbookid: ''
                          numberinseries: 3
                          pubdate: '2017-08-10 00:00:00 +0200'
                          authors:
                            - J.K. Rowling
                          allowedinlibrary: true
                          relatedbookallowedinlibrary: false
                          coverratio: 1
                          esalesticket: Oy9zZWFyY2h6b25ld2l0aGZhY2V0cy9zZWFyY2gtaGl0czsjO3Byb2R1Y3Rfa2V5OzkzNzkwOzk3ODE3ODExMDg5NzA7T0JKRUNUSVZFJDtOT05FOk5PTkU7MzQ7
                          rank: 4
                          position: 4
                          numberofrates: 1929
                          avgrate: 4.8018281535649
                          isupcoming: false
                          isrelatedbookupcoming: false
                          libstatus: NOTINLIB
                          series: harry potter
                      bookcount: 452
                      notallowedbookcount: 0
components:
  parameters:
    appid:
      name: appid
      required: true
      in: header
      description: 'Identifies the app platform that the call comes from. Valid values are 200 = Google Android, 201 = iOS, 202 = Huawei Android.'
      schema:
        type: string
        example: '200'
        enum:
          - '200'
          - '201'
          - '202'
    canary:
      name: canary
      required: true
      in: header
      description: Canary flag which is passed with /login and /userdetails API calls.
      schema:
        type: string
        example: '1.0'
    deviceid:
      name: deviceid
      required: true
      in: header
      description: 'A UUID is a unique identifier related to application installation. If an account holder uninstalls then re-installs the app, the UUID changes.'
      schema:
        type: string
        example: xxxxx-xxxxx-xxxxx-xxxxx
    locale:
      name: locale
      in: header
      required: false
      schema:
        type: string
        example: sv_SE
      description: The account holder's language from a successful login response (if logged in) or device settings (if not logged in). API v6.3 and higher.
    model:
      name: model
      required: true
      in: header
      description: A string which describes the model of the device that the call comes from. The OS provides this value. For informational purposes only.
      schema:
        type: string
        example: iPhone 6 Plus
    osinfo:
      name: osinfo
      in: header
      description: A string which indicates which OS version is being used. For informational/statistical purposes only.
      schema:
        type: string
        example: iOS 8.4.1
    token:
      name: token
      required: true
      in: header
      description: Valid profile or login token. Profile token in case profile switch happens from profile to profile. Login token in case of switch from initial landing page to any profile. Required for login step 2 only. API v5.5 and higher.
      schema:
        type: string
        example: 733393910B1B27CY0E4316EA10DF1CF1
    version:
      name: version
      required: true
      in: header
      description: The version of the API. Use CFBundleShortVersionString not CFBundleVersion.
      schema:
        type: string
        example: '1.1'
  schemas:
    '200':
      description: Successful response.
      type: object
      properties:
        id:
          type: object
          description: OK
      x-examples:
        example-1:
          value:
            data:
              status: SUCCESS
    '1000':
      description: Input missing or invalid.
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: number
            msg:
              type: string
          required:
            - code
            - msg
      x-examples:
        example-1:
          value:
            error:
              code: 1000
              msg: Input missing or invalid.
    '1001':
      description: You were logged out because your membership got canceled.
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: number
            msg:
              type: string
          required:
            - code
            - msg
      x-examples:
        example-1:
          value:
            error:
              code: 1001
              msg: You were logged out because your membership got canceled.
    '1002':
      description: You were logged out because you exceeded your daily/monthly download limit.
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: number
            msg:
              type: string
          required:
            - code
            - msg
      x-examples:
        example-1:
          value:
            error:
              code: 1002
              msg: You were logged out because you exceeded your daily/monthly download limit.
    '1003':
      description: You were logged out because you downgraded your subscription.
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: number
            msg:
              type: string
          required:
            - code
            - msg
      x-examples:
        example-1:
          value:
            error:
              code: 1003
              msg: You were logged out because you downgraded your subscription.
    '1004':
      description: You were logged out because you upgraded your subscription.
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: number
            msg:
              type: string
          required:
            - code
            - msg
      x-examples:
        example-1:
          value:
            error:
              code: 1004
              msg: You were logged out because you upgraded your subscription.
    '1005':
      description: You were logged out because you are currently logged in to too many devices.
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: number
            msg:
              type: string
          required:
            - code
            - msg
      x-examples:
        example-1:
          value:
            error:
              code: 1005
              msg: You were logged out because you are currently logged in to too many devices.
    '1006':
      description: Your current session expired because you are currently logged in to too many devices.
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: number
            msg:
              type: string
          required:
            - code
            - msg
      x-examples:
        example-1:
          value:
            error:
              code: 1006
              msg: Your current session expired because you are currently logged in to too many devices.
    '1007':
      description: You were logged out because your profile was deleted.
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: number
            msg:
              type: string
          required:
            - code
            - msg
      x-examples:
        example-1:
          value:
            error:
              code: 1007
              msg: You were logged out because your profile was deleted.
    '1008':
      description: You were logged out because your account password changed.
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: number
            msg:
              type: string
          required:
            - code
            - msg
      x-examples:
        example-1:
          value:
            error:
              code: 1008
              msg: You were logged out because your account password changed.
    '1009':
      description: You were logged out. Please log in again.
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: number
            msg:
              type: string
          required:
            - code
            - msg
      x-examples:
        example-1:
          value:
            error:
              code: 1009
              msg: You were logged out. Please log in again.
  securitySchemes:
    app_id:
      type: apiKey
      description: API key to authorize requests.
      name: appid
      in: header
tags:
  - name: Account holders and users
  - name: Analytics
  - name: Authentication and login
  - name: Books and bookgroups
  - name: Library sync
  - name: Markets
  - name: Notifications
  - name: Reading diary
  - name: Reading goals
  - name: Search
  - name: Signup
  - name: Social
  - name: Subscriptions
